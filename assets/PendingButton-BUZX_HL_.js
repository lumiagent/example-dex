const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BvClZFHg.js","assets/Spinner-CAtRjw2L.js","assets/index-6DuipDjQ.js","assets/index.es-BOQYSCLi.js","assets/_commonjs-dynamic-modules-TDtrdbi3.js"])))=>i.map(i=>d[i]);
import{bd as Ln,be as Rn,cL as On,cK as jn,cM as zn,cJ as gt,cN as wt,cO as Pn,cI as xe,cP as Un,cQ as kn,bf as qt,bg as xn,cR as Bn,b8 as Wn,cg as he,b6 as Kn,cS as Fn,b2 as Yn,bK as Qn}from"./Spinner-CAtRjw2L.js";import{g as Xt,r as M,d as p,a as Hn,j as ge}from"./index-6DuipDjQ.js";var en={exports:{}};(function(n){var t=Object.prototype.hasOwnProperty,e="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(e=!1));function s(c,u,l){this.fn=c,this.context=u,this.once=l||!1}function i(c,u,l,d,g){if(typeof l!="function")throw new TypeError("The listener must be a function");var h=new s(l,d||c,g),m=e?e+u:u;return c._events[m]?c._events[m].fn?c._events[m]=[c._events[m],h]:c._events[m].push(h):(c._events[m]=h,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],l,d;if(this._eventsCount===0)return u;for(d in l=this._events)t.call(l,d)&&u.push(e?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(l)):u},a.prototype.listeners=function(u){var l=e?e+u:u,d=this._events[l];if(!d)return[];if(d.fn)return[d.fn];for(var g=0,h=d.length,m=new Array(h);g<h;g++)m[g]=d[g].fn;return m},a.prototype.listenerCount=function(u){var l=e?e+u:u,d=this._events[l];return d?d.fn?1:d.length:0},a.prototype.emit=function(u,l,d,g,h,m){var A=e?e+u:u;if(!this._events[A])return!1;var w=this._events[A],_=arguments.length,y,f;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),_){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,l),!0;case 3:return w.fn.call(w.context,l,d),!0;case 4:return w.fn.call(w.context,l,d,g),!0;case 5:return w.fn.call(w.context,l,d,g,h),!0;case 6:return w.fn.call(w.context,l,d,g,h,m),!0}for(f=1,y=new Array(_-1);f<_;f++)y[f-1]=arguments[f];w.fn.apply(w.context,y)}else{var E=w.length,b;for(f=0;f<E;f++)switch(w[f].once&&this.removeListener(u,w[f].fn,void 0,!0),_){case 1:w[f].fn.call(w[f].context);break;case 2:w[f].fn.call(w[f].context,l);break;case 3:w[f].fn.call(w[f].context,l,d);break;case 4:w[f].fn.call(w[f].context,l,d,g);break;default:if(!y)for(b=1,y=new Array(_-1);b<_;b++)y[b-1]=arguments[b];w[f].fn.apply(w[f].context,y)}}return!0},a.prototype.on=function(u,l,d){return i(this,u,l,d,!1)},a.prototype.once=function(u,l,d){return i(this,u,l,d,!0)},a.prototype.removeListener=function(u,l,d,g){var h=e?e+u:u;if(!this._events[h])return this;if(!l)return o(this,h),this;var m=this._events[h];if(m.fn)m.fn===l&&(!g||m.once)&&(!d||m.context===d)&&o(this,h);else{for(var A=0,w=[],_=m.length;A<_;A++)(m[A].fn!==l||g&&!m[A].once||d&&m[A].context!==d)&&w.push(m[A]);w.length?this._events[h]=w.length===1?w[0]:w:o(this,h)}return this},a.prototype.removeAllListeners=function(u){var l;return u?(l=e?e+u:u,this._events[l]&&o(this,l)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=e,a.EventEmitter=a,n.exports=a})(en);var Vn=en.exports;const Gn=Xt(Vn);class x extends Error{constructor(t,e){super(t),this.error=e}}class ie extends x{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class $n extends x{constructor(){super(...arguments),this.name="WalletLoadError"}}class be extends x{constructor(){super(...arguments),this.name="WalletConfigError"}}class ce extends x{constructor(){super(...arguments),this.name="WalletConnectionError"}}class He extends x{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class St extends x{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class le extends x{constructor(){super(...arguments),this.name="WalletAccountError"}}class Be extends x{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class K extends x{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class ne extends x{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class $ extends x{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class Ve extends x{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class Lt extends x{constructor(){super(...arguments),this.name="WalletSignInError"}}class Jn extends x{constructor(){super(...arguments),this.name="WalletWindowClosedError"}}var T;(function(n){n.Installed="Installed",n.NotDetected="NotDetected",n.Loadable="Loadable",n.Unsupported="Unsupported"})(T||(T={}));class tn extends Gn{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(t,e,r={}){const s=this.publicKey;if(!s)throw new K;return t.feePayer=t.feePayer||s,t.recentBlockhash=t.recentBlockhash||(await e.getLatestBlockhash({commitment:r.preflightCommitment,minContextSlot:r.minContextSlot})).blockhash,t}}function Zn(n){if(typeof window>"u"||typeof document>"u")return;const t=[];function e(){if(n())for(const i of t)i()}const r=setInterval(e,1e3);t.push(()=>clearInterval(r)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",e,{once:!0}),t.push(()=>document.removeEventListener("DOMContentLoaded",e))),document.readyState!=="complete"&&(window.addEventListener("load",e,{once:!0}),t.push(()=>window.removeEventListener("load",e))),e()}function qn(){if(!navigator)return!1;const n=navigator.userAgent.toLowerCase(),t=n.includes("iphone")||n.includes("ipad"),e=n.includes("safari");return t&&e}function re(n){return"version"in n}class nn extends tn{async sendTransaction(t,e,r={}){let s=!0;try{if(re(t)){if(!this.supportedTransactionVersions)throw new ne("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(t.version))throw new ne(`Sending transaction version ${t.version} isn't supported by this wallet`);try{t=await this.signTransaction(t);const i=t.serialize();return await e.sendRawTransaction(i,r)}catch(i){throw i instanceof $?(s=!1,i):new ne(i==null?void 0:i.message,i)}}else try{const{signers:i,...o}=r;t=await this.prepareTransaction(t,e,o),i!=null&&i.length&&t.partialSign(...i),t=await this.signTransaction(t);const a=t.serialize();return await e.sendRawTransaction(a,o)}catch(i){throw i instanceof $?(s=!1,i):new ne(i==null?void 0:i.message,i)}}catch(i){throw s&&this.emit("error",i),i}}async signAllTransactions(t){for(const r of t)if(re(r)){if(!this.supportedTransactionVersions)throw new $("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(r.version))throw new $(`Signing transaction version ${r.version} isn't supported by this wallet`)}const e=[];for(const r of t)e.push(await this.signTransaction(r));return e}}class rn extends nn{}class Xn extends rn{}const te="solana:signAndSendTransaction",Xe="solana:signIn",_e="solana:signMessage",B="solana:signTransaction",sn="standard:connect",Rt="standard:disconnect",on="standard:events";function er(n){return sn in n.features&&on in n.features&&(te in n.features||B in n.features)}const tr=n=>{const t=Ln(),{setChain:e}=t,{wallets:r,chains:s}=Rn(),o=(()=>{const l=r[0];return l&&l.chains?l.chains[0]:null})(),[a,c]=M.useState(!1),u=M.useCallback(async l=>{c(!0);const d=await e({...l,wallet:n});return c(!1),d},[]);return[{chains:s,connectedChain:o,settingChain:a},u]},an=M.createContext({});function nr(){return M.useContext(an)}const rr=({children:n,endpoint:t,config:e={commitment:"confirmed"}})=>{const r=M.useMemo(()=>new On(t,e),[t,e]);return p.createElement(an.Provider,{value:{connection:r}},n)};class Ot extends x{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}function sr(n,t){const e=M.useState(()=>{try{const i=localStorage.getItem(n);if(i)return JSON.parse(i)}catch(i){typeof window<"u"&&console.error(i)}return t}),r=e[0],s=M.useRef(!0);return M.useEffect(()=>{if(s.current){s.current=!1;return}try{r===null?localStorage.removeItem(n):localStorage.setItem(n,JSON.stringify(r))}catch(i){typeof window<"u"&&console.error(i)}},[r,n]),e}function et(n){switch(n){case"processed":case"confirmed":case"finalized":case void 0:return n;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}const jt="solana:mainnet",ir="solana:devnet",or="solana:testnet",ar="solana:localnet",cr="https://api.mainnet-beta.solana.com";function lr(n){return n.includes(cr)?jt:/\bdevnet\b/i.test(n)?ir:/\btestnet\b/i.test(n)?or:/\blocalhost\b/i.test(n)||/\b127\.0\.0\.1\b/.test(n)?ar:jt}function ur(n){let t=`${n.domain} wants you to sign in with your Solana account:
`;t+=`${n.address}`,n.statement&&(t+=`

${n.statement}`);const e=[];if(n.uri&&e.push(`URI: ${n.uri}`),n.version&&e.push(`Version: ${n.version}`),n.chainId&&e.push(`Chain ID: ${n.chainId}`),n.nonce&&e.push(`Nonce: ${n.nonce}`),n.issuedAt&&e.push(`Issued At: ${n.issuedAt}`),n.expirationTime&&e.push(`Expiration Time: ${n.expirationTime}`),n.notBefore&&e.push(`Not Before: ${n.notBefore}`),n.requestId&&e.push(`Request ID: ${n.requestId}`),n.resources){e.push("Resources:");for(const r of n.resources)e.push(`- ${r}`)}return e.length&&(t+=`

${e.join(`
`)}`),t}const Z={ERROR_ASSOCIATION_PORT_OUT_OF_RANGE:"ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",ERROR_REFLECTOR_ID_OUT_OF_RANGE:"ERROR_REFLECTOR_ID_OUT_OF_RANGE",ERROR_FORBIDDEN_WALLET_BASE_URL:"ERROR_FORBIDDEN_WALLET_BASE_URL",ERROR_SECURE_CONTEXT_REQUIRED:"ERROR_SECURE_CONTEXT_REQUIRED",ERROR_SESSION_CLOSED:"ERROR_SESSION_CLOSED",ERROR_SESSION_TIMEOUT:"ERROR_SESSION_TIMEOUT",ERROR_WALLET_NOT_FOUND:"ERROR_WALLET_NOT_FOUND",ERROR_INVALID_PROTOCOL_VERSION:"ERROR_INVALID_PROTOCOL_VERSION"};class q extends Error{constructor(...t){const[e,r,s]=t;super(r),this.code=e,this.data=s,this.name="SolanaMobileWalletAdapterError"}}class cn extends Error{constructor(...t){const[e,r,s,i]=t;super(s),this.code=r,this.data=i,this.jsonRpcMessageId=e,this.name="SolanaMobileWalletAdapterProtocolError"}}function z(n,t,e,r){function s(i){return i instanceof e?i:new e(function(o){o(i)})}return new(e||(e=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,[])).next())})}function tt(n,t){return z(this,void 0,void 0,function*(){const e=yield crypto.subtle.exportKey("raw",n),r=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},t,e),s=new Uint8Array(e.byteLength+r.byteLength);return s.set(new Uint8Array(e),0),s.set(new Uint8Array(r),e.byteLength),s})}function dr(n){return window.btoa(n)}function fr(n){return ur(n)}function hr(n){return dr(fr(n))}const gr="solana:signTransactions",zt="solana:cloneAuthorization";function wr(n,t){return new Proxy({},{get(e,r){return e[r]==null&&(e[r]=function(s){return z(this,void 0,void 0,function*(){const{method:i,params:o}=mr(r,s,n),a=yield t(i,o);return i==="authorize"&&o.sign_in_payload&&!a.sign_in_result&&(a.sign_in_result=yield pr(o.sign_in_payload,a,t)),yr(r,a,n)})}),e[r]},defineProperty(){return!1},deleteProperty(){return!1}})}function mr(n,t,e){let r=t,s=n.toString().replace(/[A-Z]/g,i=>`_${i.toLowerCase()}`).toLowerCase();switch(n){case"authorize":{let{chain:i}=r;if(e==="legacy"){switch(i){case"solana:testnet":{i="testnet";break}case"solana:devnet":{i="devnet";break}case"solana:mainnet":{i="mainnet-beta";break}default:i=r.cluster}r.cluster=i}else{switch(i){case"testnet":case"devnet":{i=`solana:${i}`;break}case"mainnet-beta":{i="solana:mainnet";break}}r.chain=i}}case"reauthorize":{const{auth_token:i,identity:o}=r;if(i)switch(e){case"legacy":{s="reauthorize",r={auth_token:i,identity:o};break}default:{s="authorize";break}}break}}return{method:s,params:r}}function yr(n,t,e){switch(n){case"getCapabilities":{const r=t;switch(e){case"legacy":{const s=[gr];return r.supports_clone_authorization===!0&&s.push(zt),Object.assign(Object.assign({},r),{features:s})}case"v1":return Object.assign(Object.assign({},r),{supports_sign_and_send_transactions:!0,supports_clone_authorization:r.features.includes(zt)})}}}return t}function pr(n,t,e){var r;return z(this,void 0,void 0,function*(){const s=(r=n.domain)!==null&&r!==void 0?r:window.location.host,i=t.accounts[0].address,o=hr(Object.assign(Object.assign({},n),{domain:s,address:i})),a=yield e("sign_messages",{addresses:[i],payloads:[o]});return{address:i,signed_message:o,signature:a.signed_payloads[0].slice(o.length)}})}const ue=4;function Er(n){if(n>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const t=new ArrayBuffer(ue);return new DataView(t).setUint32(0,n,!1),new Uint8Array(t)}const mt=12,ln=65;function Mr(n,t,e){return z(this,void 0,void 0,function*(){const r=Er(t),s=new Uint8Array(mt);crypto.getRandomValues(s);const i=yield crypto.subtle.encrypt(dn(r,s),e,new TextEncoder().encode(n)),o=new Uint8Array(r.byteLength+s.byteLength+i.byteLength);return o.set(new Uint8Array(r),0),o.set(new Uint8Array(s),r.byteLength),o.set(new Uint8Array(i),r.byteLength+s.byteLength),o})}function un(n,t){return z(this,void 0,void 0,function*(){const e=n.slice(0,ue),r=n.slice(ue,ue+mt),s=n.slice(ue+mt),i=yield crypto.subtle.decrypt(dn(e,r),t,s);return _r().decode(i)})}function dn(n,t){return{additionalData:n,iv:t,name:"AES-GCM",tagLength:128}}let nt;function _r(){return nt===void 0&&(nt=new TextDecoder("utf-8")),nt}function Ar(){return z(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])})}function rt(){return z(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])})}function br(n,t){return z(this,void 0,void 0,function*(){const e=JSON.stringify(n),r=n.id;return Mr(e,r,t)})}function Nr(n,t){return z(this,void 0,void 0,function*(){const e=yield un(n,t),r=JSON.parse(e);if(Object.hasOwnProperty.call(r,"error"))throw new cn(r.id,r.error.code,r.error.message);return r})}function Sr(n,t,e){return z(this,void 0,void 0,function*(){const[r,s]=yield Promise.all([crypto.subtle.exportKey("raw",t),crypto.subtle.importKey("raw",n.slice(0,ln),{name:"ECDH",namedCurve:"P-256"},!1,[])]),i=yield crypto.subtle.deriveBits({name:"ECDH",public:s},e,256),o=yield crypto.subtle.importKey("raw",i,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(r),info:new Uint8Array},o,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])})}function Cr(n,t){return z(this,void 0,void 0,function*(){const e=yield un(n,t),r=JSON.parse(e);let s="legacy";if(Object.hasOwnProperty.call(r,"v"))switch(r.v){case 1:case"1":case"v1":s="v1";break;case"legacy":s="legacy";break;default:throw new q(Z.ERROR_INVALID_PROTOCOL_VERSION,`Unknown/unsupported protocol version: ${r.v}`)}return{protocol_version:s}})}function Tr(){return fn(49152+Math.floor(Math.random()*16384))}function fn(n){if(n<49152||n>65535)throw new q(Z.ERROR_ASSOCIATION_PORT_OUT_OF_RANGE,`Association port number must be between 49152 and 65535. ${n} given.`,{port:n});return n}function vr(n){let t="";const e=new Uint8Array(n),r=e.byteLength;for(let s=0;s<r;s++)t+=String.fromCharCode(e[s]);return window.btoa(t)}function Ir(n){return n.replace(/[/+=]/g,t=>({"/":"_","+":"-","=":"."})[t])}const Dr="solana-wallet";function Pt(n){return n.replace(/(^\/+|\/+$)/g,"").split("/")}function Lr(n,t){let e=null;if(t){try{e=new URL(t)}catch{}if((e==null?void 0:e.protocol)!=="https:")throw new q(Z.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}e||(e=new URL(`${Dr}:/`));const r=n.startsWith("/")?n:[...Pt(e.pathname),...Pt(n)].join("/");return new URL(r,e)}function Rr(n,t,e,r=["v1"]){return z(this,void 0,void 0,function*(){const s=fn(t),i=yield crypto.subtle.exportKey("raw",n),o=vr(i),a=Lr("v1/associate/local",e);return a.searchParams.set("association",Ir(o)),a.searchParams.set("port",`${s}`),r.forEach(c=>{a.searchParams.set("v",c)}),a})}const We={Firefox:0,Other:1};function Or(){return navigator.userAgent.indexOf("Firefox/")!==-1?We.Firefox:We.Other}function jr(){return new Promise((n,t)=>{function e(){clearTimeout(s),window.removeEventListener("blur",r)}function r(){e(),n()}window.addEventListener("blur",r);const s=setTimeout(()=>{e(),t()},2e3)})}let Ae=null;function zr(n){Ae==null&&(Ae=document.createElement("iframe"),Ae.style.display="none",document.body.appendChild(Ae)),Ae.contentWindow.location.href=n.toString()}function Pr(n){return z(this,void 0,void 0,function*(){if(n.protocol==="https:")window.location.assign(n);else try{const t=Or();switch(t){case We.Firefox:zr(n);break;case We.Other:{const e=jr();window.location.assign(n),yield e;break}default:}}catch{throw new q(Z.ERROR_WALLET_NOT_FOUND,"Found no installed wallet that supports the mobile wallet protocol.")}})}function Ur(n,t){return z(this,void 0,void 0,function*(){const e=Tr(),r=yield Rr(n,e,t);return yield Pr(r),e})}const Ut={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4},kr="com.solana.mobilewalletadapter.v1";function xr(){if(typeof window>"u"||window.isSecureContext!==!0)throw new q(Z.ERROR_SECURE_CONTEXT_REQUIRED,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}function Br(n){let t;try{t=new URL(n)}catch{throw new q(Z.ERROR_FORBIDDEN_WALLET_BASE_URL,"Invalid base URL supplied by wallet")}if(t.protocol!=="https:")throw new q(Z.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}function kt(n){return new DataView(n).getUint32(0,!1)}function Wr(n,t){return z(this,void 0,void 0,function*(){xr();const e=yield Ar(),s=`ws://localhost:${yield Ur(e.publicKey,t==null?void 0:t.baseUri)}/solana-wallet`;let i;const o=(()=>{const l=[...Ut.retryDelayScheduleMs];return()=>l.length>1?l.shift():l[0]})();let a=1,c=0,u={__type:"disconnected"};return new Promise((l,d)=>{let g;const h={},m=()=>z(this,void 0,void 0,function*(){if(u.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${u.__type}\`.`);return}g.removeEventListener("open",m);const{associationKeypair:b}=u,N=yield rt();g.send(yield tt(N.publicKey,b.privateKey)),u={__type:"hello_req_sent",associationPublicKey:b.publicKey,ecdhPrivateKey:N.privateKey}}),A=b=>{b.wasClean?u={__type:"disconnected"}:d(new q(Z.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${b.code}: ${b.reason}).`,{closeEvent:b})),y()},w=b=>z(this,void 0,void 0,function*(){y(),Date.now()-i>=Ut.timeoutMs?d(new q(Z.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${s}.`)):(yield new Promise(N=>{const C=o();f=window.setTimeout(N,C)}),E())}),_=b=>z(this,void 0,void 0,function*(){const N=yield b.data.arrayBuffer();switch(u.__type){case"connecting":if(N.byteLength!==0)throw new Error("Encountered unexpected message while connecting");const C=yield rt();g.send(yield tt(C.publicKey,e.privateKey)),u={__type:"hello_req_sent",associationPublicKey:e.publicKey,ecdhPrivateKey:C.privateKey};break;case"connected":try{const L=N.slice(0,ue),P=kt(L);if(P!==c+1)throw new Error("Encrypted message has invalid sequence number");c=P;const U=yield Nr(N,u.sharedSecret),G=h[U.id];delete h[U.id],G.resolve(U.result)}catch(L){if(L instanceof cn){const P=h[L.jsonRpcMessageId];delete h[L.jsonRpcMessageId],P.reject(L)}else throw L}break;case"hello_req_sent":{if(N.byteLength===0){const F=yield rt();g.send(yield tt(F.publicKey,e.privateKey)),u={__type:"hello_req_sent",associationPublicKey:e.publicKey,ecdhPrivateKey:F.privateKey};break}const L=yield Sr(N,u.associationPublicKey,u.ecdhPrivateKey),P=N.slice(ln),U=P.byteLength!==0?yield z(this,void 0,void 0,function*(){const F=P.slice(0,ue),k=kt(F);if(k!==c+1)throw new Error("Encrypted message has invalid sequence number");return c=k,Cr(P,L)}):{protocol_version:"legacy"};u={__type:"connected",sharedSecret:L,sessionProperties:U};const G=wr(U.protocol_version,(F,k)=>z(this,void 0,void 0,function*(){const Ie=a++;return g.send(yield br({id:Ie,jsonrpc:"2.0",method:F,params:k??{}},L)),new Promise((v,R)=>{h[Ie]={resolve(O){switch(F){case"authorize":case"reauthorize":{const{wallet_uri_base:Q}=O;if(Q!=null)try{Br(Q)}catch(X){R(X);return}break}}v(O)},reject:R}})}));try{l(yield n(G))}catch(F){d(F)}finally{y(),g.close()}break}}});let y,f;const E=()=>{y&&y(),u={__type:"connecting",associationKeypair:e},i===void 0&&(i=Date.now()),g=new WebSocket(s,[kr]),g.addEventListener("open",m),g.addEventListener("close",A),g.addEventListener("error",w),g.addEventListener("message",_),y=()=>{window.clearTimeout(f),g.removeEventListener("open",m),g.removeEventListener("close",A),g.removeEventListener("error",w),g.removeEventListener("message",_)}};E()})})}function st(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(e[r[s]]=n[r[s]]);return e}function De(n,t,e,r){function s(i){return i instanceof e?i:new e(function(o){o(i)})}return new(e||(e=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,[])).next())})}function hn(n){return window.btoa(String.fromCharCode.call(null,...n))}function it(n){return new Uint8Array(window.atob(n).split("").map(t=>t.charCodeAt(0)))}function xt(n){const t="version"in n?n.serialize():n.serialize({requireAllSignatures:!1,verifySignatures:!1});return hn(t)}function Kr(n){const e=n[0]*Pn+1;return zn.deserializeMessageVersion(n.slice(e,n.length))==="legacy"?gt.from(n):wt.deserialize(n)}function Fr(n,t){return De(this,void 0,void 0,function*(){return yield Wr(r=>{const s=new Proxy({},{get(i,o){if(i[o]==null)switch(o){case"signAndSendTransactions":i[o]=function(a){var{minContextSlot:c,commitment:u,skipPreflight:l,maxRetries:d,waitForCommitmentToSendNextTransaction:g,transactions:h}=a,m=st(a,["minContextSlot","commitment","skipPreflight","maxRetries","waitForCommitmentToSendNextTransaction","transactions"]);return De(this,void 0,void 0,function*(){const A=h.map(xt),w={min_context_slot:c,commitment:u,skip_preflight:l,max_retries:d,wait_for_commitment_to_send_next_transaction:g},{signatures:_}=yield r.signAndSendTransactions(Object.assign(Object.assign(Object.assign({},m),Object.values(w).some(f=>f!=null)?{options:w}:null),{payloads:A}));return _.map(it).map(jn.encode)})};break;case"signMessages":i[o]=function(a){var{payloads:c}=a,u=st(a,["payloads"]);return De(this,void 0,void 0,function*(){const l=c.map(hn),{signed_payloads:d}=yield r.signMessages(Object.assign(Object.assign({},u),{payloads:l}));return d.map(it)})};break;case"signTransactions":i[o]=function(a){var{transactions:c}=a,u=st(a,["transactions"]);return De(this,void 0,void 0,function*(){const l=c.map(xt),{signed_payloads:d}=yield r.signTransactions(Object.assign(Object.assign({},u),{payloads:l}));return d.map(it).map(Kr)})};break;default:{i[o]=r[o];break}}return i[o]},defineProperty(){return!1},deleteProperty(){return!1}});return n(s)},t)})}var Yr=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},gn={},V={};let Ct;const Qr=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];V.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};V.getSymbolTotalCodewords=function(t){return Qr[t]};V.getBCHDigit=function(n){let t=0;for(;n!==0;)t++,n>>>=1;return t};V.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');Ct=t};V.isKanjiModeEnabled=function(){return typeof Ct<"u"};V.toSJIS=function(t){return Ct(t)};var Ge={};(function(n){n.L={bit:1},n.M={bit:0},n.Q={bit:3},n.H={bit:2};function t(e){if(typeof e!="string")throw new Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return n.L;case"m":case"medium":return n.M;case"q":case"quartile":return n.Q;case"h":case"high":return n.H;default:throw new Error("Unknown EC Level: "+e)}}n.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},n.from=function(r,s){if(n.isValid(r))return r;try{return t(r)}catch{return s}}})(Ge);function wn(){this.buffer=[],this.length=0}wn.prototype={get:function(n){const t=Math.floor(n/8);return(this.buffer[t]>>>7-n%8&1)===1},put:function(n,t){for(let e=0;e<t;e++)this.putBit((n>>>t-e-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(n){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),n&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var Hr=wn;function ve(n){if(!n||n<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=n,this.data=new Uint8Array(n*n),this.reservedBit=new Uint8Array(n*n)}ve.prototype.set=function(n,t,e,r){const s=n*this.size+t;this.data[s]=e,r&&(this.reservedBit[s]=!0)};ve.prototype.get=function(n,t){return this.data[n*this.size+t]};ve.prototype.xor=function(n,t,e){this.data[n*this.size+t]^=e};ve.prototype.isReserved=function(n,t){return this.reservedBit[n*this.size+t]};var Vr=ve,mn={};(function(n){const t=V.getSymbolSize;n.getRowColCoords=function(r){if(r===1)return[];const s=Math.floor(r/7)+2,i=t(r),o=i===145?26:Math.ceil((i-13)/(2*s-2))*2,a=[i-7];for(let c=1;c<s-1;c++)a[c]=a[c-1]-o;return a.push(6),a.reverse()},n.getPositions=function(r){const s=[],i=n.getRowColCoords(r),o=i.length;for(let a=0;a<o;a++)for(let c=0;c<o;c++)a===0&&c===0||a===0&&c===o-1||a===o-1&&c===0||s.push([i[a],i[c]]);return s}})(mn);var yn={};const Gr=V.getSymbolSize,Bt=7;yn.getPositions=function(t){const e=Gr(t);return[[0,0],[e-Bt,0],[0,e-Bt]]};var pn={};(function(n){n.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};n.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},n.from=function(s){return n.isValid(s)?parseInt(s,10):void 0},n.getPenaltyN1=function(s){const i=s.size;let o=0,a=0,c=0,u=null,l=null;for(let d=0;d<i;d++){a=c=0,u=l=null;for(let g=0;g<i;g++){let h=s.get(d,g);h===u?a++:(a>=5&&(o+=t.N1+(a-5)),u=h,a=1),h=s.get(g,d),h===l?c++:(c>=5&&(o+=t.N1+(c-5)),l=h,c=1)}a>=5&&(o+=t.N1+(a-5)),c>=5&&(o+=t.N1+(c-5))}return o},n.getPenaltyN2=function(s){const i=s.size;let o=0;for(let a=0;a<i-1;a++)for(let c=0;c<i-1;c++){const u=s.get(a,c)+s.get(a,c+1)+s.get(a+1,c)+s.get(a+1,c+1);(u===4||u===0)&&o++}return o*t.N2},n.getPenaltyN3=function(s){const i=s.size;let o=0,a=0,c=0;for(let u=0;u<i;u++){a=c=0;for(let l=0;l<i;l++)a=a<<1&2047|s.get(u,l),l>=10&&(a===1488||a===93)&&o++,c=c<<1&2047|s.get(l,u),l>=10&&(c===1488||c===93)&&o++}return o*t.N3},n.getPenaltyN4=function(s){let i=0;const o=s.data.length;for(let c=0;c<o;c++)i+=s.data[c];return Math.abs(Math.ceil(i*100/o/5)-10)*t.N4};function e(r,s,i){switch(r){case n.Patterns.PATTERN000:return(s+i)%2===0;case n.Patterns.PATTERN001:return s%2===0;case n.Patterns.PATTERN010:return i%3===0;case n.Patterns.PATTERN011:return(s+i)%3===0;case n.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(i/3))%2===0;case n.Patterns.PATTERN101:return s*i%2+s*i%3===0;case n.Patterns.PATTERN110:return(s*i%2+s*i%3)%2===0;case n.Patterns.PATTERN111:return(s*i%3+(s+i)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}n.applyMask=function(s,i){const o=i.size;for(let a=0;a<o;a++)for(let c=0;c<o;c++)i.isReserved(c,a)||i.xor(c,a,e(s,c,a))},n.getBestMask=function(s,i){const o=Object.keys(n.Patterns).length;let a=0,c=1/0;for(let u=0;u<o;u++){i(u),n.applyMask(u,s);const l=n.getPenaltyN1(s)+n.getPenaltyN2(s)+n.getPenaltyN3(s)+n.getPenaltyN4(s);n.applyMask(u,s),l<c&&(c=l,a=u)}return a}})(pn);var $e={};const se=Ge,Le=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Re=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];$e.getBlocksCount=function(t,e){switch(e){case se.L:return Le[(t-1)*4+0];case se.M:return Le[(t-1)*4+1];case se.Q:return Le[(t-1)*4+2];case se.H:return Le[(t-1)*4+3];default:return}};$e.getTotalCodewordsCount=function(t,e){switch(e){case se.L:return Re[(t-1)*4+0];case se.M:return Re[(t-1)*4+1];case se.Q:return Re[(t-1)*4+2];case se.H:return Re[(t-1)*4+3];default:return}};var En={},Je={};const Se=new Uint8Array(512),Ke=new Uint8Array(256);(function(){let t=1;for(let e=0;e<255;e++)Se[e]=t,Ke[t]=e,t<<=1,t&256&&(t^=285);for(let e=255;e<512;e++)Se[e]=Se[e-255]})();Je.log=function(t){if(t<1)throw new Error("log("+t+")");return Ke[t]};Je.exp=function(t){return Se[t]};Je.mul=function(t,e){return t===0||e===0?0:Se[Ke[t]+Ke[e]]};(function(n){const t=Je;n.mul=function(r,s){const i=new Uint8Array(r.length+s.length-1);for(let o=0;o<r.length;o++)for(let a=0;a<s.length;a++)i[o+a]^=t.mul(r[o],s[a]);return i},n.mod=function(r,s){let i=new Uint8Array(r);for(;i.length-s.length>=0;){const o=i[0];for(let c=0;c<s.length;c++)i[c]^=t.mul(s[c],o);let a=0;for(;a<i.length&&i[a]===0;)a++;i=i.slice(a)}return i},n.generateECPolynomial=function(r){let s=new Uint8Array([1]);for(let i=0;i<r;i++)s=n.mul(s,new Uint8Array([1,t.exp(i)]));return s}})(En);const Mn=En;function Tt(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}Tt.prototype.initialize=function(t){this.degree=t,this.genPoly=Mn.generateECPolynomial(this.degree)};Tt.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const e=new Uint8Array(t.length+this.degree);e.set(t);const r=Mn.mod(e,this.genPoly),s=this.degree-r.length;if(s>0){const i=new Uint8Array(this.degree);return i.set(r,s),i}return r};var $r=Tt,_n={},oe={},vt={};vt.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var J={};const An="[0-9]+",Jr="[A-Z $%*+\\-./:]+";let Te="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Te=Te.replace(/u/g,"\\u");const Zr="(?:(?![A-Z0-9 $%*+\\-./:]|"+Te+`)(?:.|[\r
]))+`;J.KANJI=new RegExp(Te,"g");J.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");J.BYTE=new RegExp(Zr,"g");J.NUMERIC=new RegExp(An,"g");J.ALPHANUMERIC=new RegExp(Jr,"g");const qr=new RegExp("^"+Te+"$"),Xr=new RegExp("^"+An+"$"),es=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");J.testKanji=function(t){return qr.test(t)};J.testNumeric=function(t){return Xr.test(t)};J.testAlphanumeric=function(t){return es.test(t)};(function(n){const t=vt,e=J;n.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},n.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},n.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},n.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},n.MIXED={bit:-1},n.getCharCountIndicator=function(i,o){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!t.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?i.ccBits[0]:o<27?i.ccBits[1]:i.ccBits[2]},n.getBestModeForData=function(i){return e.testNumeric(i)?n.NUMERIC:e.testAlphanumeric(i)?n.ALPHANUMERIC:e.testKanji(i)?n.KANJI:n.BYTE},n.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},n.isValid=function(i){return i&&i.bit&&i.ccBits};function r(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"numeric":return n.NUMERIC;case"alphanumeric":return n.ALPHANUMERIC;case"kanji":return n.KANJI;case"byte":return n.BYTE;default:throw new Error("Unknown mode: "+s)}}n.from=function(i,o){if(n.isValid(i))return i;try{return r(i)}catch{return o}}})(oe);(function(n){const t=V,e=$e,r=Ge,s=oe,i=vt,o=7973,a=t.getBCHDigit(o);function c(g,h,m){for(let A=1;A<=40;A++)if(h<=n.getCapacity(A,m,g))return A}function u(g,h){return s.getCharCountIndicator(g,h)+4}function l(g,h){let m=0;return g.forEach(function(A){const w=u(A.mode,h);m+=w+A.getBitsLength()}),m}function d(g,h){for(let m=1;m<=40;m++)if(l(g,m)<=n.getCapacity(m,h,s.MIXED))return m}n.from=function(h,m){return i.isValid(h)?parseInt(h,10):m},n.getCapacity=function(h,m,A){if(!i.isValid(h))throw new Error("Invalid QR Code version");typeof A>"u"&&(A=s.BYTE);const w=t.getSymbolTotalCodewords(h),_=e.getTotalCodewordsCount(h,m),y=(w-_)*8;if(A===s.MIXED)return y;const f=y-u(A,h);switch(A){case s.NUMERIC:return Math.floor(f/10*3);case s.ALPHANUMERIC:return Math.floor(f/11*2);case s.KANJI:return Math.floor(f/13);case s.BYTE:default:return Math.floor(f/8)}},n.getBestVersionForData=function(h,m){let A;const w=r.from(m,r.M);if(Array.isArray(h)){if(h.length>1)return d(h,w);if(h.length===0)return 1;A=h[0]}else A=h;return c(A.mode,A.getLength(),w)},n.getEncodedBits=function(h){if(!i.isValid(h)||h<7)throw new Error("Invalid QR Code version");let m=h<<12;for(;t.getBCHDigit(m)-a>=0;)m^=o<<t.getBCHDigit(m)-a;return h<<12|m}})(_n);var bn={};const yt=V,Nn=1335,ts=21522,Wt=yt.getBCHDigit(Nn);bn.getEncodedBits=function(t,e){const r=t.bit<<3|e;let s=r<<10;for(;yt.getBCHDigit(s)-Wt>=0;)s^=Nn<<yt.getBCHDigit(s)-Wt;return(r<<10|s)^ts};var Sn={};const ns=oe;function ye(n){this.mode=ns.NUMERIC,this.data=n.toString()}ye.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};ye.prototype.getLength=function(){return this.data.length};ye.prototype.getBitsLength=function(){return ye.getBitsLength(this.data.length)};ye.prototype.write=function(t){let e,r,s;for(e=0;e+3<=this.data.length;e+=3)r=this.data.substr(e,3),s=parseInt(r,10),t.put(s,10);const i=this.data.length-e;i>0&&(r=this.data.substr(e),s=parseInt(r,10),t.put(s,i*3+1))};var rs=ye;const ss=oe,ot=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function pe(n){this.mode=ss.ALPHANUMERIC,this.data=n}pe.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};pe.prototype.getLength=function(){return this.data.length};pe.prototype.getBitsLength=function(){return pe.getBitsLength(this.data.length)};pe.prototype.write=function(t){let e;for(e=0;e+2<=this.data.length;e+=2){let r=ot.indexOf(this.data[e])*45;r+=ot.indexOf(this.data[e+1]),t.put(r,11)}this.data.length%2&&t.put(ot.indexOf(this.data[e]),6)};var is=pe;const os=oe;function Ee(n){this.mode=os.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}Ee.getBitsLength=function(t){return t*8};Ee.prototype.getLength=function(){return this.data.length};Ee.prototype.getBitsLength=function(){return Ee.getBitsLength(this.data.length)};Ee.prototype.write=function(n){for(let t=0,e=this.data.length;t<e;t++)n.put(this.data[t],8)};var as=Ee;const cs=oe,ls=V;function Me(n){this.mode=cs.KANJI,this.data=n}Me.getBitsLength=function(t){return t*13};Me.prototype.getLength=function(){return this.data.length};Me.prototype.getBitsLength=function(){return Me.getBitsLength(this.data.length)};Me.prototype.write=function(n){let t;for(t=0;t<this.data.length;t++){let e=ls.toSJIS(this.data[t]);if(e>=33088&&e<=40956)e-=33088;else if(e>=57408&&e<=60351)e-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);e=(e>>>8&255)*192+(e&255),n.put(e,13)}};var us=Me,Cn={exports:{}};(function(n){var t={single_source_shortest_paths:function(e,r,s){var i={},o={};o[r]=0;var a=t.PriorityQueue.make();a.push(r,0);for(var c,u,l,d,g,h,m,A,w;!a.empty();){c=a.pop(),u=c.value,d=c.cost,g=e[u]||{};for(l in g)g.hasOwnProperty(l)&&(h=g[l],m=d+h,A=o[l],w=typeof o[l]>"u",(w||A>m)&&(o[l]=m,a.push(l,m),i[l]=u))}if(typeof s<"u"&&typeof o[s]>"u"){var _=["Could not find a path from ",r," to ",s,"."].join("");throw new Error(_)}return i},extract_shortest_path_from_predecessor_list:function(e,r){for(var s=[],i=r;i;)s.push(i),e[i],i=e[i];return s.reverse(),s},find_path:function(e,r,s){var i=t.single_source_shortest_paths(e,r,s);return t.extract_shortest_path_from_predecessor_list(i,s)},PriorityQueue:{make:function(e){var r=t.PriorityQueue,s={},i;e=e||{};for(i in r)r.hasOwnProperty(i)&&(s[i]=r[i]);return s.queue=[],s.sorter=e.sorter||r.default_sorter,s},default_sorter:function(e,r){return e.cost-r.cost},push:function(e,r){var s={value:e,cost:r};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};n.exports=t})(Cn);var ds=Cn.exports;(function(n){const t=oe,e=rs,r=is,s=as,i=us,o=J,a=V,c=ds;function u(_){return unescape(encodeURIComponent(_)).length}function l(_,y,f){const E=[];let b;for(;(b=_.exec(f))!==null;)E.push({data:b[0],index:b.index,mode:y,length:b[0].length});return E}function d(_){const y=l(o.NUMERIC,t.NUMERIC,_),f=l(o.ALPHANUMERIC,t.ALPHANUMERIC,_);let E,b;return a.isKanjiModeEnabled()?(E=l(o.BYTE,t.BYTE,_),b=l(o.KANJI,t.KANJI,_)):(E=l(o.BYTE_KANJI,t.BYTE,_),b=[]),y.concat(f,E,b).sort(function(C,L){return C.index-L.index}).map(function(C){return{data:C.data,mode:C.mode,length:C.length}})}function g(_,y){switch(y){case t.NUMERIC:return e.getBitsLength(_);case t.ALPHANUMERIC:return r.getBitsLength(_);case t.KANJI:return i.getBitsLength(_);case t.BYTE:return s.getBitsLength(_)}}function h(_){return _.reduce(function(y,f){const E=y.length-1>=0?y[y.length-1]:null;return E&&E.mode===f.mode?(y[y.length-1].data+=f.data,y):(y.push(f),y)},[])}function m(_){const y=[];for(let f=0;f<_.length;f++){const E=_[f];switch(E.mode){case t.NUMERIC:y.push([E,{data:E.data,mode:t.ALPHANUMERIC,length:E.length},{data:E.data,mode:t.BYTE,length:E.length}]);break;case t.ALPHANUMERIC:y.push([E,{data:E.data,mode:t.BYTE,length:E.length}]);break;case t.KANJI:y.push([E,{data:E.data,mode:t.BYTE,length:u(E.data)}]);break;case t.BYTE:y.push([{data:E.data,mode:t.BYTE,length:u(E.data)}])}}return y}function A(_,y){const f={},E={start:{}};let b=["start"];for(let N=0;N<_.length;N++){const C=_[N],L=[];for(let P=0;P<C.length;P++){const U=C[P],G=""+N+P;L.push(G),f[G]={node:U,lastCount:0},E[G]={};for(let F=0;F<b.length;F++){const k=b[F];f[k]&&f[k].node.mode===U.mode?(E[k][G]=g(f[k].lastCount+U.length,U.mode)-g(f[k].lastCount,U.mode),f[k].lastCount+=U.length):(f[k]&&(f[k].lastCount=U.length),E[k][G]=g(U.length,U.mode)+4+t.getCharCountIndicator(U.mode,y))}}b=L}for(let N=0;N<b.length;N++)E[b[N]].end=0;return{map:E,table:f}}function w(_,y){let f;const E=t.getBestModeForData(_);if(f=t.from(y,E),f!==t.BYTE&&f.bit<E.bit)throw new Error('"'+_+'" cannot be encoded with mode '+t.toString(f)+`.
 Suggested mode is: `+t.toString(E));switch(f===t.KANJI&&!a.isKanjiModeEnabled()&&(f=t.BYTE),f){case t.NUMERIC:return new e(_);case t.ALPHANUMERIC:return new r(_);case t.KANJI:return new i(_);case t.BYTE:return new s(_)}}n.fromArray=function(y){return y.reduce(function(f,E){return typeof E=="string"?f.push(w(E,null)):E.data&&f.push(w(E.data,E.mode)),f},[])},n.fromString=function(y,f){const E=d(y,a.isKanjiModeEnabled()),b=m(E),N=A(b,f),C=c.find_path(N.map,"start","end"),L=[];for(let P=1;P<C.length-1;P++)L.push(N.table[C[P]].node);return n.fromArray(h(L))},n.rawSplit=function(y){return n.fromArray(d(y,a.isKanjiModeEnabled()))}})(Sn);const Ze=V,at=Ge,fs=Hr,hs=Vr,gs=mn,ws=yn,pt=pn,Et=$e,ms=$r,Fe=_n,ys=bn,ps=oe,ct=Sn;function Es(n,t){const e=n.size,r=ws.getPositions(t);for(let s=0;s<r.length;s++){const i=r[s][0],o=r[s][1];for(let a=-1;a<=7;a++)if(!(i+a<=-1||e<=i+a))for(let c=-1;c<=7;c++)o+c<=-1||e<=o+c||(a>=0&&a<=6&&(c===0||c===6)||c>=0&&c<=6&&(a===0||a===6)||a>=2&&a<=4&&c>=2&&c<=4?n.set(i+a,o+c,!0,!0):n.set(i+a,o+c,!1,!0))}}function Ms(n){const t=n.size;for(let e=8;e<t-8;e++){const r=e%2===0;n.set(e,6,r,!0),n.set(6,e,r,!0)}}function _s(n,t){const e=gs.getPositions(t);for(let r=0;r<e.length;r++){const s=e[r][0],i=e[r][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?n.set(s+o,i+a,!0,!0):n.set(s+o,i+a,!1,!0)}}function As(n,t){const e=n.size,r=Fe.getEncodedBits(t);let s,i,o;for(let a=0;a<18;a++)s=Math.floor(a/3),i=a%3+e-8-3,o=(r>>a&1)===1,n.set(s,i,o,!0),n.set(i,s,o,!0)}function lt(n,t,e){const r=n.size,s=ys.getEncodedBits(t,e);let i,o;for(i=0;i<15;i++)o=(s>>i&1)===1,i<6?n.set(i,8,o,!0):i<8?n.set(i+1,8,o,!0):n.set(r-15+i,8,o,!0),i<8?n.set(8,r-i-1,o,!0):i<9?n.set(8,15-i-1+1,o,!0):n.set(8,15-i-1,o,!0);n.set(r-8,8,1,!0)}function bs(n,t){const e=n.size;let r=-1,s=e-1,i=7,o=0;for(let a=e-1;a>0;a-=2)for(a===6&&a--;;){for(let c=0;c<2;c++)if(!n.isReserved(s,a-c)){let u=!1;o<t.length&&(u=(t[o]>>>i&1)===1),n.set(s,a-c,u),i--,i===-1&&(o++,i=7)}if(s+=r,s<0||e<=s){s-=r,r=-r;break}}}function Ns(n,t,e){const r=new fs;e.forEach(function(c){r.put(c.mode.bit,4),r.put(c.getLength(),ps.getCharCountIndicator(c.mode,n)),c.write(r)});const s=Ze.getSymbolTotalCodewords(n),i=Et.getTotalCodewordsCount(n,t),o=(s-i)*8;for(r.getLengthInBits()+4<=o&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const a=(o-r.getLengthInBits())/8;for(let c=0;c<a;c++)r.put(c%2?17:236,8);return Ss(r,n,t)}function Ss(n,t,e){const r=Ze.getSymbolTotalCodewords(t),s=Et.getTotalCodewordsCount(t,e),i=r-s,o=Et.getBlocksCount(t,e),a=r%o,c=o-a,u=Math.floor(r/o),l=Math.floor(i/o),d=l+1,g=u-l,h=new ms(g);let m=0;const A=new Array(o),w=new Array(o);let _=0;const y=new Uint8Array(n.buffer);for(let C=0;C<o;C++){const L=C<c?l:d;A[C]=y.slice(m,m+L),w[C]=h.encode(A[C]),m+=L,_=Math.max(_,L)}const f=new Uint8Array(r);let E=0,b,N;for(b=0;b<_;b++)for(N=0;N<o;N++)b<A[N].length&&(f[E++]=A[N][b]);for(b=0;b<g;b++)for(N=0;N<o;N++)f[E++]=w[N][b];return f}function Cs(n,t,e,r){let s;if(Array.isArray(n))s=ct.fromArray(n);else if(typeof n=="string"){let u=t;if(!u){const l=ct.rawSplit(n);u=Fe.getBestVersionForData(l,e)}s=ct.fromString(n,u||40)}else throw new Error("Invalid data");const i=Fe.getBestVersionForData(s,e);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=i;else if(t<i)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+i+`.
`);const o=Ns(t,e,s),a=Ze.getSymbolSize(t),c=new hs(a);return Es(c,t),Ms(c),_s(c,t),lt(c,e,0),t>=7&&As(c,t),bs(c,o),isNaN(r)&&(r=pt.getBestMask(c,lt.bind(null,c,e))),pt.applyMask(r,c),lt(c,e,r),{modules:c,version:t,errorCorrectionLevel:e,maskPattern:r,segments:s}}gn.create=function(t,e){if(typeof t>"u"||t==="")throw new Error("No input text");let r=at.M,s,i;return typeof e<"u"&&(r=at.from(e.errorCorrectionLevel,at.M),s=Fe.from(e.version),i=pt.from(e.maskPattern),e.toSJISFunc&&Ze.setToSJISFunction(e.toSJISFunc)),Cs(t,s,r,i)};var Tn={},It={};(function(n){function t(e){if(typeof e=="number"&&(e=e.toString()),typeof e!="string")throw new Error("Color should be defined as hex string");let r=e.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+e);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(i){return[i,i]}))),r.length===6&&r.push("F","F");const s=parseInt(r.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+r.slice(0,6).join("")}}n.getOptions=function(r){r||(r={}),r.color||(r.color={});const s=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,i=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:i,scale:i?4:o,margin:s,color:{dark:t(r.color.dark||"#000000ff"),light:t(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},n.getScale=function(r,s){return s.width&&s.width>=r+s.margin*2?s.width/(r+s.margin*2):s.scale},n.getImageWidth=function(r,s){const i=n.getScale(r,s);return Math.floor((r+s.margin*2)*i)},n.qrToImageData=function(r,s,i){const o=s.modules.size,a=s.modules.data,c=n.getScale(o,i),u=Math.floor((o+i.margin*2)*c),l=i.margin*c,d=[i.color.light,i.color.dark];for(let g=0;g<u;g++)for(let h=0;h<u;h++){let m=(g*u+h)*4,A=i.color.light;if(g>=l&&h>=l&&g<u-l&&h<u-l){const w=Math.floor((g-l)/c),_=Math.floor((h-l)/c);A=d[a[w*o+_]?1:0]}r[m++]=A.r,r[m++]=A.g,r[m++]=A.b,r[m]=A.a}}})(It);(function(n){const t=It;function e(s,i,o){s.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=o,i.width=o,i.style.height=o+"px",i.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}n.render=function(i,o,a){let c=a,u=o;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),o||(u=r()),c=t.getOptions(c);const l=t.getImageWidth(i.modules.size,c),d=u.getContext("2d"),g=d.createImageData(l,l);return t.qrToImageData(g.data,i,c),e(d,u,l),d.putImageData(g,0,0),u},n.renderToDataURL=function(i,o,a){let c=a;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),c||(c={});const u=n.render(i,o,c),l=c.type||"image/png",d=c.rendererOpts||{};return u.toDataURL(l,d.quality)}})(Tn);var vn={};const Ts=It;function Kt(n,t){const e=n.a/255,r=t+'="'+n.hex+'"';return e<1?r+" "+t+'-opacity="'+e.toFixed(2).slice(1)+'"':r}function ut(n,t,e){let r=n+t;return typeof e<"u"&&(r+=" "+e),r}function vs(n,t,e){let r="",s=0,i=!1,o=0;for(let a=0;a<n.length;a++){const c=Math.floor(a%t),u=Math.floor(a/t);!c&&!i&&(i=!0),n[a]?(o++,a>0&&c>0&&n[a-1]||(r+=i?ut("M",c+e,.5+u+e):ut("m",s,0),s=0,i=!1),c+1<t&&n[a+1]||(r+=ut("h",o),o=0)):s++}return r}vn.render=function(t,e,r){const s=Ts.getOptions(e),i=t.modules.size,o=t.modules.data,a=i+s.margin*2,c=s.color.light.a?"<path "+Kt(s.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",u="<path "+Kt(s.color.dark,"stroke")+' d="'+vs(o,i,s.margin)+'"/>',l='viewBox="0 0 '+a+" "+a+'"',g='<svg xmlns="http://www.w3.org/2000/svg" '+(s.width?'width="'+s.width+'" height="'+s.width+'" ':"")+l+' shape-rendering="crispEdges">'+c+u+`</svg>
`;return typeof r=="function"&&r(null,g),g};const Is=Yr,Mt=gn,In=Tn,Ds=vn;function Dt(n,t,e,r,s){const i=[].slice.call(arguments,1),o=i.length,a=typeof i[o-1]=="function";if(!a&&!Is())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(s=e,e=t,t=r=void 0):o===3&&(t.getContext&&typeof s>"u"?(s=r,r=void 0):(s=r,r=e,e=t,t=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(e=t,t=r=void 0):o===2&&!t.getContext&&(r=e,e=t,t=void 0),new Promise(function(c,u){try{const l=Mt.create(e,r);c(n(l,t,r))}catch(l){u(l)}})}try{const c=Mt.create(e,r);s(null,n(c,t,r))}catch(c){s(c)}}Mt.create;Dt.bind(null,In.render);Dt.bind(null,In.renderToDataURL);Dt.bind(null,function(n,t,e){return Ds.render(n,e)});function I(n,t,e,r){function s(i){return i instanceof e?i:new e(function(o){o(i)})}return new(e||(e=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,[])).next())})}function ze(n){return new Uint8Array(window.atob(n).split("").map(t=>t.charCodeAt(0)))}function Ls(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}const ee="Mobile Wallet Adapter",Rs=64;function Os(n){const t=ze(n);return new xe(t)}function Ft(n){return"version"in n}function js(n){switch(n){case"mainnet-beta":return"solana:mainnet";case"testnet":return"solana:testnet";case"devnet":return"solana:devnet"}}class zs extends Xn{constructor(t){var e;super(),this.supportedTransactionVersions=new Set(["legacy",0]),this.name=ee,this.url="https://solanamobile.com/wallets",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjI4IiB3aWR0aD0iMjgiIHZpZXdCb3g9Ii0zIDAgMjggMjgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iI0RDQjhGRiI+PHBhdGggZD0iTTE3LjQgMTcuNEgxNXYyLjRoMi40di0yLjRabTEuMi05LjZoLTIuNHYyLjRoMi40VjcuOFoiLz48cGF0aCBkPSJNMjEuNiAzVjBoLTIuNHYzaC0zLjZWMGgtMi40djNoLTIuNHY2LjZINC41YTIuMSAyLjEgMCAxIDEgMC00LjJoMi43VjNINC41QTQuNSA0LjUgMCAwIDAgMCA3LjVWMjRoMjEuNnYtNi42aC0yLjR2NC4ySDIuNFYxMS41Yy41LjMgMS4yLjQgMS44LjVoNy41QTYuNiA2LjYgMCAwIDAgMjQgOVYzaC0yLjRabTAgNS43YTQuMiA0LjIgMCAxIDEtOC40IDBWNS40aDguNHYzLjNaIi8+PC9nPjwvc3ZnPg==",this._connecting=!1,this._connectionGeneration=0,this._readyState=Ls()?T.Loadable:T.Unsupported,this._authorizationResultCache=t.authorizationResultCache,this._addressSelector=t.addressSelector,this._appIdentity=t.appIdentity,this._chain=(e=t.chain)!==null&&e!==void 0?e:js(t.cluster),this._hostAuthority=t.remoteHostAuthority,this._onWalletNotFound=t.onWalletNotFound,this._readyState!==T.Unsupported&&this._authorizationResultCache.get().then(r=>{r&&this.declareWalletAsInstalled()})}get publicKey(){if(this._publicKey==null&&this._selectedAddress!=null)try{this._publicKey=Os(this._selectedAddress)}catch(t){throw new Be(t instanceof Error&&(t==null?void 0:t.message)||"Unknown error",t)}return this._publicKey?this._publicKey:null}get connected(){return!!this._authorizationResult}get connecting(){return this._connecting}get readyState(){return this._readyState}declareWalletAsInstalled(){this._readyState!==T.Installed&&this.emit("readyStateChange",this._readyState=T.Installed)}runWithGuard(t){return I(this,void 0,void 0,function*(){try{return yield t()}catch(e){throw this.emit("error",e),e}})}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return I(this,void 0,void 0,function*(){return yield this.autoConnect()})}autoConnect(){return I(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield this.runWithGuard(()=>I(this,void 0,void 0,function*(){if(this._readyState!==T.Installed&&this._readyState!==T.Loadable)throw new ie;this._connecting=!0;try{const t=yield this._authorizationResultCache.get();t&&this.handleAuthorizationResult(t)}catch(t){throw new ce(t instanceof Error&&t.message||"Unknown error",t)}finally{this._connecting=!1}}))})}connect(){return I(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield this.runWithGuard(()=>I(this,void 0,void 0,function*(){if(this._readyState!==T.Installed&&this._readyState!==T.Loadable)throw new ie;this._connecting=!0;try{yield this.performAuthorization()}catch(t){throw new ce(t instanceof Error&&t.message||"Unknown error",t)}finally{this._connecting=!1}}))})}performAuthorization(t){return I(this,void 0,void 0,function*(){try{const e=yield this._authorizationResultCache.get();return e?(this.handleAuthorizationResult(e),e):yield this.transact(r=>I(this,void 0,void 0,function*(){const s=yield r.authorize({chain:this._chain,identity:this._appIdentity,sign_in_payload:t});return Promise.all([this._authorizationResultCache.set(s),this.handleAuthorizationResult(s)]),s}))}catch(e){throw new ce(e instanceof Error&&e.message||"Unknown error",e)}})}handleAuthorizationResult(t){var e;return I(this,void 0,void 0,function*(){const r=this._authorizationResult==null||((e=this._authorizationResult)===null||e===void 0?void 0:e.accounts.length)!==t.accounts.length||this._authorizationResult.accounts.some((s,i)=>s.address!==t.accounts[i].address);if(this._authorizationResult=t,this.declareWalletAsInstalled(),r){const s=yield this._addressSelector.select(t.accounts.map(({address:i})=>i));s!==this._selectedAddress&&(this._selectedAddress=s,delete this._publicKey,this.emit("connect",this.publicKey))}})}performReauthorization(t,e){return I(this,void 0,void 0,function*(){try{const r=yield t.authorize({auth_token:e,identity:this._appIdentity});Promise.all([this._authorizationResultCache.set(r),this.handleAuthorizationResult(r)])}catch(r){throw this.disconnect(),new He(r instanceof Error&&(r==null?void 0:r.message)||"Unknown error",r)}})}disconnect(){return I(this,void 0,void 0,function*(){this._authorizationResultCache.clear(),this._connecting=!1,this._connectionGeneration++,delete this._authorizationResult,delete this._publicKey,delete this._selectedAddress,this.emit("disconnect")})}transact(t){var e;return I(this,void 0,void 0,function*(){const r=(e=this._authorizationResult)===null||e===void 0?void 0:e.wallet_uri_base,s=r?{baseUri:r}:void 0,i=this._hostAuthority?{remoteHostAuthority:this._hostAuthority}:void 0,o=this._connectionGeneration;try{return yield Fr(t,Object.assign(Object.assign({},s),i))}catch(a){throw this._connectionGeneration!==o&&(yield new Promise(()=>{})),a instanceof Error&&a.name==="SolanaMobileWalletAdapterError"&&a.code==="ERROR_WALLET_NOT_FOUND"&&(yield this._onWalletNotFound(this)),a}})}assertIsAuthorized(){if(!this._authorizationResult||!this._selectedAddress)throw new K;return{authToken:this._authorizationResult.auth_token,selectedAddress:this._selectedAddress}}performSignTransactions(t){return I(this,void 0,void 0,function*(){const{authToken:e}=this.assertIsAuthorized();try{return yield this.transact(r=>I(this,void 0,void 0,function*(){return yield this.performReauthorization(r,e),yield r.signTransactions({transactions:t})}))}catch(r){throw new $(r==null?void 0:r.message,r)}})}sendTransaction(t,e,r){return I(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>I(this,void 0,void 0,function*(){const{authToken:s}=this.assertIsAuthorized(),i=r==null?void 0:r.minContextSlot;try{return yield this.transact(o=>I(this,void 0,void 0,function*(){function a(){let d;switch(e.commitment){case"confirmed":case"finalized":case"processed":d=e.commitment;break;default:d="finalized"}let g;switch(r==null?void 0:r.preflightCommitment){case"confirmed":case"finalized":case"processed":g=r.preflightCommitment;break;case void 0:g=d;break;default:g="finalized"}return(g==="finalized"?2:g==="confirmed"?1:0)<(d==="finalized"?2:d==="confirmed"?1:0)?g:d}const[c,u,l]=yield Promise.all([o.getCapabilities(),this.performReauthorization(o,s),Ft(t)?null:I(this,void 0,void 0,function*(){var d;if(t.feePayer||(t.feePayer=(d=this.publicKey)!==null&&d!==void 0?d:void 0),t.recentBlockhash==null){const{blockhash:g}=yield e.getLatestBlockhash({commitment:a()});t.recentBlockhash=g}})]);if(c.supports_sign_and_send_transactions)return(yield o.signAndSendTransactions({minContextSlot:i,transactions:[t]}))[0];{const[d]=yield o.signTransactions({transactions:[t]});if(Ft(d))return yield e.sendTransaction(d);{const g=d.serialize();return yield e.sendRawTransaction(g,Object.assign(Object.assign({},r),{preflightCommitment:a()}))}}}))}catch(o){throw new ne(o==null?void 0:o.message,o)}}))})}signTransaction(t){return I(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>I(this,void 0,void 0,function*(){const[e]=yield this.performSignTransactions([t]);return e}))})}signAllTransactions(t){return I(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>I(this,void 0,void 0,function*(){return yield this.performSignTransactions(t)}))})}signMessage(t){return I(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>I(this,void 0,void 0,function*(){const{authToken:e,selectedAddress:r}=this.assertIsAuthorized();try{return yield this.transact(s=>I(this,void 0,void 0,function*(){yield this.performReauthorization(s,e);const[i]=yield s.signMessages({addresses:[r],payloads:[t]});return i.slice(-Rs)}))}catch(s){throw new Ve(s==null?void 0:s.message,s)}}))})}signIn(t){return I(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>I(this,void 0,void 0,function*(){var e,r;if(this._readyState!==T.Installed&&this._readyState!==T.Loadable)throw new ie;this._connecting=!0;try{const s=yield this.performAuthorization(Object.assign(Object.assign({},t),{domain:(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:window.location.host}));if(!s.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const i=s.sign_in_result.address;return{account:Object.assign(Object.assign({},(r=s.accounts.find(a=>a.address==i))!==null&&r!==void 0?r:{address:i}),{publicKey:ze(i)}),signedMessage:ze(s.sign_in_result.signed_message),signature:ze(s.sign_in_result.signature)}}catch(s){throw new ce(s instanceof Error&&s.message||"Unknown error",s)}finally{this._connecting=!1}}))})}}function Ps(){return{select(n){return I(this,void 0,void 0,function*(){return n[0]})}}}const dt="SolanaMobileWalletAdapterDefaultAuthorizationCache";function Us(){let n;try{n=window.localStorage}catch{}return{clear(){return I(this,void 0,void 0,function*(){if(n)try{n.removeItem(dt)}catch{}})},get(){return I(this,void 0,void 0,function*(){if(n)try{return JSON.parse(n.getItem(dt))||void 0}catch{}})},set(t){return I(this,void 0,void 0,function*(){if(n)try{n.setItem(dt,JSON.stringify(t))}catch{}})}}}function ks(n){return I(this,void 0,void 0,function*(){typeof window<"u"&&window.location.assign(n.url)})}function xs(){return ks}function Bs(n,t){if(n===t)return!0;const e=n.length;if(e!==t.length)return!1;for(let r=0;r<e;r++)if(n[r]!==t[r])return!1;return!0}var Oe=Un.Buffer;function Ws(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),e=0;e<t.length;e++)t[e]=255;for(var r=0;r<n.length;r++){var s=n.charAt(r),i=s.charCodeAt(0);if(t[i]!==255)throw new TypeError(s+" is ambiguous");t[i]=r}var o=n.length,a=n.charAt(0),c=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function l(h){if((Array.isArray(h)||h instanceof Uint8Array)&&(h=Oe.from(h)),!Oe.isBuffer(h))throw new TypeError("Expected Buffer");if(h.length===0)return"";for(var m=0,A=0,w=0,_=h.length;w!==_&&h[w]===0;)w++,m++;for(var y=(_-w)*u+1>>>0,f=new Uint8Array(y);w!==_;){for(var E=h[w],b=0,N=y-1;(E!==0||b<A)&&N!==-1;N--,b++)E+=256*f[N]>>>0,f[N]=E%o>>>0,E=E/o>>>0;if(E!==0)throw new Error("Non-zero carry");A=b,w++}for(var C=y-A;C!==y&&f[C]===0;)C++;for(var L=a.repeat(m);C<y;++C)L+=n.charAt(f[C]);return L}function d(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return Oe.alloc(0);for(var m=0,A=0,w=0;h[m]===a;)A++,m++;for(var _=(h.length-m)*c+1>>>0,y=new Uint8Array(_);m<h.length;){var f=t[h.charCodeAt(m)];if(f===255)return;for(var E=0,b=_-1;(f!==0||E<w)&&b!==-1;b--,E++)f+=o*y[b]>>>0,y[b]=f%256>>>0,f=f/256>>>0;if(f!==0)throw new Error("Non-zero carry");w=E,m++}for(var N=_-w;N!==_&&y[N]===0;)N++;var C=Oe.allocUnsafe(A+(_-N));C.fill(0,0,A);for(var L=A;N!==_;)C[L++]=y[N++];return C}function g(h){var m=d(h);if(m)return m;throw new Error("Non-base"+o+" character")}return{encode:l,decodeUnsafe:d,decode:g}}var Ks=Ws,Fs=Ks,Ys="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Qs=Fs(Ys);const Hs=Xt(Qs);var j=function(n,t,e,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?n!==t||!s:!t.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(n,e):s?s.value=e:t.set(n,e),e},S=function(n,t,e,r){if(e==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?n!==t||!r:!t.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?r:e==="a"?r.call(n):r?r.value:t.get(n)},W,Y,de,fe,ae,Ne,Ye,D,Qe,_t,Pe,At,Ce,bt,Yt,Qt,Ht,Vt;class Vs extends tn{constructor({wallet:t}){super(),W.add(this),Y.set(this,void 0),de.set(this,void 0),fe.set(this,void 0),ae.set(this,void 0),Ne.set(this,void 0),Ye.set(this,void 0),D.set(this,void 0),Qe.set(this,typeof window>"u"||typeof document>"u"?T.Unsupported:T.Installed),bt.set(this,e=>{if("accounts"in e){const r=S(this,D,"f").accounts[0];S(this,Y,"f")&&!S(this,ae,"f")&&r!==S(this,Y,"f")&&(r?S(this,W,"m",Pe).call(this,r):(this.emit("error",new He),S(this,W,"m",At).call(this)))}"features"in e&&S(this,W,"m",Ce).call(this)}),j(this,D,t,"f"),j(this,Y,null,"f"),j(this,de,null,"f"),j(this,fe,!1,"f"),j(this,ae,!1,"f"),j(this,Ne,S(this,D,"f").features[on].on("change",S(this,bt,"f")),"f"),S(this,W,"m",Ce).call(this)}get name(){return S(this,D,"f").name}get url(){return"https://github.com/solana-labs/wallet-standard"}get icon(){return S(this,D,"f").icon}get readyState(){return S(this,Qe,"f")}get publicKey(){return S(this,de,"f")}get connecting(){return S(this,fe,"f")}get supportedTransactionVersions(){return S(this,Ye,"f")}get wallet(){return S(this,D,"f")}get standard(){return!0}destroy(){j(this,Y,null,"f"),j(this,de,null,"f"),j(this,fe,!1,"f"),j(this,ae,!1,"f");const t=S(this,Ne,"f");t&&(j(this,Ne,null,"f"),t())}async autoConnect(){return S(this,W,"m",_t).call(this,{silent:!0})}async connect(){return S(this,W,"m",_t).call(this)}async disconnect(){if(Rt in S(this,D,"f").features)try{j(this,ae,!0,"f"),await S(this,D,"f").features[Rt].disconnect()}catch(t){this.emit("error",new St(t==null?void 0:t.message,t))}finally{j(this,ae,!1,"f")}S(this,W,"m",At).call(this)}async sendTransaction(t,e,r={}){try{const s=S(this,Y,"f");if(!s)throw new K;let i;if(te in S(this,D,"f").features)if(s.features.includes(te))i=te;else if(B in S(this,D,"f").features&&s.features.includes(B))i=B;else throw new le;else if(B in S(this,D,"f").features){if(!s.features.includes(B))throw new le;i=B}else throw new be;const o=lr(e.rpcEndpoint);if(!s.chains.includes(o))throw new ne;try{const{signers:a,...c}=r;let u;if(re(t)?(a!=null&&a.length&&t.sign(a),u=t.serialize()):(t=await this.prepareTransaction(t,e,c),a!=null&&a.length&&t.partialSign(...a),u=new Uint8Array(t.serialize({requireAllSignatures:!1,verifySignatures:!1}))),i===te){const[l]=await S(this,D,"f").features[te].signAndSendTransaction({account:s,chain:o,transaction:u,options:{preflightCommitment:et(c.preflightCommitment||e.commitment),skipPreflight:c.skipPreflight,maxRetries:c.maxRetries,minContextSlot:c.minContextSlot}});return Hs.encode(l.signature)}else{const[l]=await S(this,D,"f").features[B].signTransaction({account:s,chain:o,transaction:u,options:{preflightCommitment:et(c.preflightCommitment||e.commitment),minContextSlot:c.minContextSlot}});return await e.sendRawTransaction(l.signedTransaction,{...c,preflightCommitment:et(c.preflightCommitment||e.commitment)})}}catch(a){throw a instanceof x?a:new ne(a==null?void 0:a.message,a)}}catch(s){throw this.emit("error",s),s}}}Y=new WeakMap,de=new WeakMap,fe=new WeakMap,ae=new WeakMap,Ne=new WeakMap,Ye=new WeakMap,D=new WeakMap,Qe=new WeakMap,bt=new WeakMap,W=new WeakSet,_t=async function(t){try{if(this.connected||this.connecting)return;if(S(this,Qe,"f")!==T.Installed)throw new ie;if(j(this,fe,!0,"f"),!S(this,D,"f").accounts.length)try{await S(this,D,"f").features[sn].connect(t)}catch(r){throw new ce(r==null?void 0:r.message,r)}const e=S(this,D,"f").accounts[0];if(!e)throw new le;S(this,W,"m",Pe).call(this,e)}catch(e){throw this.emit("error",e),e}finally{j(this,fe,!1,"f")}},Pe=function(t){let e;try{e=new xe(t.address)}catch(r){throw new Be(r==null?void 0:r.message,r)}j(this,Y,t,"f"),j(this,de,e,"f"),S(this,W,"m",Ce).call(this),this.emit("connect",e)},At=function(){j(this,Y,null,"f"),j(this,de,null,"f"),S(this,W,"m",Ce).call(this),this.emit("disconnect")},Ce=function(){var e,r;const t=te in S(this,D,"f").features?S(this,D,"f").features[te].supportedTransactionVersions:S(this,D,"f").features[B].supportedTransactionVersions;j(this,Ye,Bs(t,["legacy"])?null:new Set(t),"f"),B in S(this,D,"f").features&&((e=S(this,Y,"f"))!=null&&e.features.includes(B))?(this.signTransaction=S(this,W,"m",Yt),this.signAllTransactions=S(this,W,"m",Qt)):(delete this.signTransaction,delete this.signAllTransactions),_e in S(this,D,"f").features&&((r=S(this,Y,"f"))!=null&&r.features.includes(_e))?this.signMessage=S(this,W,"m",Ht):delete this.signMessage,Xe in S(this,D,"f").features?this.signIn=S(this,W,"m",Vt):delete this.signIn},Yt=async function(t){try{const e=S(this,Y,"f");if(!e)throw new K;if(!(B in S(this,D,"f").features))throw new be;if(!e.features.includes(B))throw new le;try{const s=(await S(this,D,"f").features[B].signTransaction({account:e,transaction:re(t)?t.serialize():new Uint8Array(t.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return re(t)?wt.deserialize(s):gt.from(s)}catch(r){throw r instanceof x?r:new $(r==null?void 0:r.message,r)}}catch(e){throw this.emit("error",e),e}},Qt=async function(t){try{const e=S(this,Y,"f");if(!e)throw new K;if(!(B in S(this,D,"f").features))throw new be;if(!e.features.includes(B))throw new le;try{const r=await S(this,D,"f").features[B].signTransaction(...t.map(s=>({account:e,transaction:re(s)?s.serialize():new Uint8Array(s.serialize({requireAllSignatures:!1,verifySignatures:!1}))})));return t.map((s,i)=>{const o=r[i].signedTransaction;return re(s)?wt.deserialize(o):gt.from(o)})}catch(r){throw new $(r==null?void 0:r.message,r)}}catch(e){throw this.emit("error",e),e}},Ht=async function(t){try{const e=S(this,Y,"f");if(!e)throw new K;if(!(_e in S(this,D,"f").features))throw new be;if(!e.features.includes(_e))throw new le;try{return(await S(this,D,"f").features[_e].signMessage({account:e,message:t}))[0].signature}catch(r){throw new Ve(r==null?void 0:r.message,r)}}catch(e){throw this.emit("error",e),e}},Vt=async function(t={}){try{if(!(Xe in S(this,D,"f").features))throw new be;let e;try{[e]=await S(this,D,"f").features[Xe].signIn(t)}catch(r){throw new Lt(r==null?void 0:r.message,r)}if(!e)throw new Lt;return S(this,W,"m",Pe).call(this,e.account),e}catch(e){throw this.emit("error",e),e}};const Gs=er;var $s=function(n,t,e,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?n!==t||!s:!t.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(n,e):s?s.value=e:t.set(n,e),e},Js=function(n,t,e,r){if(e==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?n!==t||!r:!t.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?r:e==="a"?r.call(n):r?r.value:t.get(n)},Ue;let H;const ke=new Set,we={};function Zs(){if(H||(H=Object.freeze({register:Gt,get:qs,on:Xs}),typeof window>"u"))return H;const n=Object.freeze({register:Gt});try{window.addEventListener("wallet-standard:register-wallet",({detail:t})=>t(n))}catch(t){console.error(`wallet-standard:register-wallet event listener could not be added
`,t)}try{window.dispatchEvent(new ei(n))}catch(t){console.error(`wallet-standard:app-ready event could not be dispatched
`,t)}return H}function Gt(...n){var t;return n=n.filter(e=>!ke.has(e)),n.length?(n.forEach(e=>ke.add(e)),(t=we.register)==null||t.forEach(e=>Nt(()=>e(...n))),function(){var r;n.forEach(s=>ke.delete(s)),(r=we.unregister)==null||r.forEach(s=>Nt(()=>s(...n)))}):()=>{}}function qs(){return[...ke]}function Xs(n,t){var e;return(e=we[n])!=null&&e.push(t)||(we[n]=[t]),function(){var s;we[n]=(s=we[n])==null?void 0:s.filter(i=>t!==i)}}function Nt(n){try{n()}catch(t){console.error(t)}}class ei extends Event{constructor(t){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),Ue.set(this,void 0),$s(this,Ue,t,"f")}get detail(){return Js(this,Ue,"f")}get type(){return"wallet-standard:app-ready"}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}Ue=new WeakMap;function ti(){if(H||(H=Zs(),typeof window>"u"))return H;const n=window.navigator.wallets||[];if(!Array.isArray(n))return console.error("window.navigator.wallets is not an array"),H;const{register:t}=H,e=(...r)=>r.forEach(s=>Nt(()=>s({register:t})));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:e})})}catch{return console.error("window.navigator.wallets could not be set"),H}return e(...n),H}function ni(n){const t=$t(()=>new Set),{get:e,on:r}=$t(()=>ti()),[s,i]=M.useState(()=>Jt(e()));M.useEffect(()=>{const a=[r("register",(...c)=>i(u=>[...u,...Jt(c)])),r("unregister",(...c)=>i(u=>u.filter(l=>c.some(d=>d===l.wallet))))];return()=>a.forEach(c=>c())},[r]);const o=ri(s);return M.useEffect(()=>{if(!o)return;const a=new Set(s);new Set(o.filter(u=>!a.has(u))).forEach(u=>u.destroy())},[o,s]),M.useEffect(()=>()=>s.forEach(a=>a.destroy()),[]),M.useMemo(()=>[...s,...n.filter(({name:a})=>s.some(c=>c.name===a)?(t.has(a)||(t.add(a),console.warn(`${a} was registered as a Standard Wallet. The Wallet Adapter for ${a} can be removed from your app.`)),!1):!0)],[s,n,t])}function $t(n){const t=M.useRef();return t.current||(t.current={value:n()}),t.current.value}function ri(n){const t=M.useRef();return M.useEffect(()=>{t.current=n}),t.current}function Jt(n){return n.filter(Gs).map(t=>new Vs({wallet:t}))}var me;(function(n){n[n.DESKTOP_WEB=0]="DESKTOP_WEB",n[n.MOBILE_WEB=1]="MOBILE_WEB"})(me||(me={}));function si(n){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(n)}function ii({adapters:n,userAgentString:t}){return n.some(e=>e.name!==ee&&e.readyState===T.Installed)?me.DESKTOP_WEB:t&&/android/i.test(t)&&!si(t)?me.MOBILE_WEB:me.DESKTOP_WEB}function oi(n){return n?/devnet/i.test(n)?"devnet":/testnet/i.test(n)?"testnet":"mainnet-beta":"mainnet-beta"}function ai({children:n,wallets:t,adapter:e,isUnloadingRef:r,onAutoConnectRequest:s,onConnectError:i,onError:o,onSelectWallet:a}){const c=M.useRef(!1),[u,l]=M.useState(!1),d=M.useRef(!1),[g,h]=M.useState(!1),[m,A]=M.useState(()=>(e==null?void 0:e.publicKey)??null),[w,_]=M.useState(()=>(e==null?void 0:e.connected)??!1),y=M.useRef(o);M.useEffect(()=>(y.current=o,()=>{y.current=void 0}),[o]);const f=M.useRef((v,R)=>(r.current||(y.current?y.current(v,R):(console.error(v,R),v instanceof ie&&typeof window<"u"&&R&&window.open(R.url,"_blank"))),v)),[E,b]=M.useState(()=>t.map(v=>({adapter:v,readyState:v.readyState})).filter(({readyState:v})=>v!==T.Unsupported));M.useEffect(()=>{b(R=>t.map((O,Q)=>{const X=R[Q];return X&&X.adapter===O&&X.readyState===O.readyState?X:{adapter:O,readyState:O.readyState}}).filter(({readyState:O})=>O!==T.Unsupported));function v(R){b(O=>{const Q=O.findIndex(({adapter:qe})=>qe===this);if(Q===-1)return O;const{adapter:X}=O[Q];return[...O.slice(0,Q),{adapter:X,readyState:R},...O.slice(Q+1)].filter(({readyState:qe})=>qe!==T.Unsupported)})}return t.forEach(R=>R.on("readyStateChange",v,R)),()=>{t.forEach(R=>R.off("readyStateChange",v,R))}},[e,t]);const N=M.useMemo(()=>E.find(v=>v.adapter===e)??null,[e,E]);M.useEffect(()=>{if(!e)return;const v=Q=>{A(Q),c.current=!1,l(!1),_(!0),d.current=!1,h(!1)},R=()=>{r.current||(A(null),c.current=!1,l(!1),_(!1),d.current=!1,h(!1))},O=Q=>{f.current(Q,e)};return e.on("connect",v),e.on("disconnect",R),e.on("error",O),()=>{e.off("connect",v),e.off("disconnect",R),e.off("error",O),R()}},[e,r]);const C=M.useRef(!1);M.useEffect(()=>()=>{C.current=!1},[e]),M.useEffect(()=>{C.current||c.current||w||!s||!((N==null?void 0:N.readyState)===T.Installed||(N==null?void 0:N.readyState)===T.Loadable)||(c.current=!0,l(!0),C.current=!0,async function(){try{await s()}catch{i()}finally{l(!1),c.current=!1}}())},[w,s,i,N]);const L=M.useCallback(async(v,R,O)=>{if(!e)throw f.current(new Ot);if(!w)throw f.current(new K,e);return await e.sendTransaction(v,R,O)},[e,w]),P=M.useMemo(()=>e&&"signTransaction"in e?async v=>{if(!w)throw f.current(new K,e);return await e.signTransaction(v)}:void 0,[e,w]),U=M.useMemo(()=>e&&"signAllTransactions"in e?async v=>{if(!w)throw f.current(new K,e);return await e.signAllTransactions(v)}:void 0,[e,w]),G=M.useMemo(()=>e&&"signMessage"in e?async v=>{if(!w)throw f.current(new K,e);return await e.signMessage(v)}:void 0,[e,w]),F=M.useMemo(()=>e&&"signIn"in e?async v=>await e.signIn(v):void 0,[e]),k=M.useCallback(async()=>{if(c.current||d.current||N!=null&&N.adapter.connected)return;if(!N)throw f.current(new Ot);const{adapter:v,readyState:R}=N;if(!(R===T.Installed||R===T.Loadable))throw f.current(new ie,v);c.current=!0,l(!0);try{await v.connect()}catch(O){throw i(),O}finally{l(!1),c.current=!1}},[i,N]),Ie=M.useCallback(async()=>{if(!d.current&&e){d.current=!0,h(!0);try{await e.disconnect()}finally{h(!1),d.current=!1}}},[e]);return p.createElement(kn.Provider,{value:{autoConnect:!!s,wallets:E,wallet:N,publicKey:m,connected:w,connecting:u,disconnecting:g,select:a,connect:k,disconnect:Ie,sendTransaction:L,signTransaction:P,signAllTransactions:U,signMessage:G,signIn:F}},n)}let ft;function ci(){var n;return ft===void 0&&(ft=((n=globalThis.navigator)==null?void 0:n.userAgent)??null),ft}function je(n){const t=ci();return ii({adapters:n,userAgentString:t})===me.MOBILE_WEB}function li(){const n=globalThis.location;if(n)return`${n.protocol}//${n.host}`}function ui({children:n,wallets:t,autoConnect:e,localStorageKey:r="walletName",onError:s}){const{connection:i}=nr(),o=ni(t),a=M.useMemo(()=>{if(!je(o))return null;const y=o.find(f=>f.name===ee);return y||new zs({addressSelector:Ps(),appIdentity:{uri:li()},authorizationResultCache:Us(),cluster:oi(i==null?void 0:i.rpcEndpoint),onWalletNotFound:xs()})},[o,i==null?void 0:i.rpcEndpoint]),c=M.useMemo(()=>a==null||o.indexOf(a)!==-1?o:[a,...o],[o,a]),[u,l]=sr(r,je(o)?ee:null),d=M.useMemo(()=>c.find(y=>y.name===u)??null,[c,u]),g=M.useCallback(y=>{u!==y&&(d&&d.name!==ee&&d.disconnect(),l(y))},[d,l,u]);M.useEffect(()=>{if(!d)return;function y(){A.current||u===ee&&je(o)||l(null)}return d.on("disconnect",y),()=>{d.off("disconnect",y)}},[d,o,l,u]);const h=M.useRef(!1),m=M.useMemo(()=>{if(!(!e||!d))return async()=>{(e===!0||await e(d))&&(h.current?await d.connect():await d.autoConnect())}},[e,d]),A=M.useRef(!1);M.useEffect(()=>{if(u===ee&&je(o)){A.current=!1;return}function y(){A.current=!0}return window.addEventListener("beforeunload",y),()=>{window.removeEventListener("beforeunload",y)}},[o,u]);const w=M.useCallback(()=>{d&&d.name!==ee&&g(null)},[d,g]),_=M.useCallback(y=>{h.current=!0,g(y)},[g]);return p.createElement(ai,{wallets:c,adapter:d,isUnloadingRef:A,onAutoConnectRequest:m,onConnectError:w,onError:s,onSelectWallet:_},n)}const di=n=>p.createElement("button",{className:`wallet-adapter-button ${n.className||""}`,disabled:n.disabled,style:n.style,onClick:n.onClick,tabIndex:n.tabIndex||0,type:"button"},n.startIcon&&p.createElement("i",{className:"wallet-adapter-button-start-icon"},n.startIcon),n.children,n.endIcon&&p.createElement("i",{className:"wallet-adapter-button-end-icon"},n.endIcon)),fi=({wallet:n,...t})=>n&&p.createElement("img",{src:n.adapter.icon,alt:`${n.adapter.name} icon`,...t}),Zt=({id:n,children:t,expanded:e=!1})=>{const r=M.useRef(null),s=M.useRef(!0),i="height 250ms ease-out",o=()=>{const c=r.current;c&&requestAnimationFrame(()=>{c.style.height=c.scrollHeight+"px"})},a=()=>{const c=r.current;c&&requestAnimationFrame(()=>{c.style.height=c.offsetHeight+"px",c.style.overflow="hidden",requestAnimationFrame(()=>{c.style.height="0"})})};return M.useLayoutEffect(()=>{e?o():a()},[e]),M.useLayoutEffect(()=>{const c=r.current;if(!c)return;function u(){c&&(c.style.overflow=e?"initial":"hidden",e&&(c.style.height="auto"))}function l(d){c&&d.target===c&&d.propertyName==="height"&&u()}return s.current&&(u(),s.current=!1),c.addEventListener("transitionend",l),()=>c.removeEventListener("transitionend",l)},[e]),p.createElement("div",{className:"wallet-adapter-collapse",id:n,ref:r,role:"region",style:{height:0,transition:s.current?void 0:i}},t)},ht=({handleClick:n,tabIndex:t,wallet:e})=>p.createElement("li",null,p.createElement(di,{onClick:n,startIcon:p.createElement(fi,{wallet:e}),tabIndex:t},e.adapter.name,e.readyState===T.Installed&&p.createElement("span",null,"Detected"))),hi=()=>p.createElement("svg",{width:"97",height:"96",viewBox:"0 0 97 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},p.createElement("circle",{cx:"48.5",cy:"48",r:"48",fill:"url(#paint0_linear_880_5115)",fillOpacity:"0.1"}),p.createElement("circle",{cx:"48.5",cy:"48",r:"47",stroke:"url(#paint1_linear_880_5115)",strokeOpacity:"0.4",strokeWidth:"2"}),p.createElement("g",{clipPath:"url(#clip0_880_5115)"},p.createElement("path",{d:"M65.5769 28.1523H31.4231C27.6057 28.1523 24.5 31.258 24.5 35.0754V60.9215C24.5 64.7389 27.6057 67.8446 31.4231 67.8446H65.5769C69.3943 67.8446 72.5 64.7389 72.5 60.9215V35.0754C72.5 31.258 69.3943 28.1523 65.5769 28.1523ZM69.7308 52.1523H59.5769C57.2865 52.1523 55.4231 50.289 55.4231 47.9985C55.4231 45.708 57.2864 43.8446 59.5769 43.8446H69.7308V52.1523ZM69.7308 41.0754H59.5769C55.7595 41.0754 52.6539 44.1811 52.6539 47.9985C52.6539 51.8159 55.7595 54.9215 59.5769 54.9215H69.7308V60.9215C69.7308 63.2119 67.8674 65.0754 65.5769 65.0754H31.4231C29.1327 65.0754 27.2692 63.212 27.2692 60.9215V35.0754C27.2692 32.785 29.1326 30.9215 31.4231 30.9215H65.5769C67.8673 30.9215 69.7308 32.7849 69.7308 35.0754V41.0754Z",fill:"url(#paint2_linear_880_5115)"}),p.createElement("path",{d:"M61.4231 46.6172H59.577C58.8123 46.6172 58.1924 47.2371 58.1924 48.0018C58.1924 48.7665 58.8123 49.3863 59.577 49.3863H61.4231C62.1878 49.3863 62.8077 48.7664 62.8077 48.0018C62.8077 47.2371 62.1878 46.6172 61.4231 46.6172Z",fill:"url(#paint3_linear_880_5115)"})),p.createElement("defs",null,p.createElement("linearGradient",{id:"paint0_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},p.createElement("stop",{stopColor:"#9945FF"}),p.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),p.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),p.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),p.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),p.createElement("stop",{offset:"1",stopColor:"#00D18C"})),p.createElement("linearGradient",{id:"paint1_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},p.createElement("stop",{stopColor:"#9945FF"}),p.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),p.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),p.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),p.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),p.createElement("stop",{offset:"1",stopColor:"#00D18C"})),p.createElement("linearGradient",{id:"paint2_linear_880_5115",x1:"25.9583",y1:"68.7101",x2:"67.2337",y2:"23.7879",gradientUnits:"userSpaceOnUse"},p.createElement("stop",{stopColor:"#9945FF"}),p.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),p.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),p.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),p.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),p.createElement("stop",{offset:"1",stopColor:"#00D18C"})),p.createElement("linearGradient",{id:"paint3_linear_880_5115",x1:"58.3326",y1:"49.4467",x2:"61.0002",y2:"45.4453",gradientUnits:"userSpaceOnUse"},p.createElement("stop",{stopColor:"#9945FF"}),p.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),p.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),p.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),p.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),p.createElement("stop",{offset:"1",stopColor:"#00D18C"})),p.createElement("clipPath",{id:"clip0_880_5115"},p.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(24.5 24)"})))),gi=({className:n="",container:t="body"})=>{const e=M.useRef(null),{wallets:r,select:s}=qt(),{setVisible:i}=xn(),[o,a]=M.useState(!1),[c,u]=M.useState(!1),[l,d]=M.useState(null),[g,h]=M.useMemo(()=>{const f=[],E=[];for(const b of r)b.readyState===T.Installed?f.push(b):E.push(b);return f.length?[f,E]:[E,[]]},[r]),m=M.useCallback(()=>{u(!1),setTimeout(()=>i(!1),150)},[i]),A=M.useCallback(f=>{f.preventDefault(),m()},[m]),w=M.useCallback((f,E)=>{s(E),A(f)},[s,A]),_=M.useCallback(()=>a(!o),[o]),y=M.useCallback(f=>{const E=e.current;if(!E)return;const b=E.querySelectorAll("button"),N=b[0],C=b[b.length-1];f.shiftKey?document.activeElement===N&&(C.focus(),f.preventDefault()):document.activeElement===C&&(N.focus(),f.preventDefault())},[e]);return M.useLayoutEffect(()=>{const f=b=>{b.key==="Escape"?m():b.key==="Tab"&&y(b)},{overflow:E}=window.getComputedStyle(document.body);return setTimeout(()=>u(!0),0),document.body.style.overflow="hidden",window.addEventListener("keydown",f,!1),()=>{document.body.style.overflow=E,window.removeEventListener("keydown",f,!1)}},[m,y]),M.useLayoutEffect(()=>d(document.querySelector(t)),[t]),l&&Hn.createPortal(p.createElement("div",{"aria-labelledby":"wallet-adapter-modal-title","aria-modal":"true",className:`wallet-adapter-modal ${c&&"wallet-adapter-modal-fade-in"} ${n}`,ref:e,role:"dialog"},p.createElement("div",{className:"wallet-adapter-modal-container"},p.createElement("div",{className:"wallet-adapter-modal-wrapper"},p.createElement("button",{onClick:A,className:"wallet-adapter-modal-button-close"},p.createElement("svg",{width:"14",height:"14"},p.createElement("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"}))),g.length?p.createElement(p.Fragment,null,p.createElement("h1",{className:"wallet-adapter-modal-title"},"Connect a wallet on Solana to continue"),p.createElement("ul",{className:"wallet-adapter-modal-list"},g.map(f=>p.createElement(ht,{key:f.adapter.name,handleClick:E=>w(E,f.adapter.name),wallet:f})),h.length?p.createElement(Zt,{expanded:o,id:"wallet-adapter-modal-collapse"},h.map(f=>p.createElement(ht,{key:f.adapter.name,handleClick:E=>w(E,f.adapter.name),tabIndex:o?0:-1,wallet:f}))):null),h.length?p.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:_,tabIndex:0},p.createElement("span",null,o?"Less ":"More ","options"),p.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${o?"wallet-adapter-modal-list-more-icon-rotate":""}`},p.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))):null):p.createElement(p.Fragment,null,p.createElement("h1",{className:"wallet-adapter-modal-title"},"You'll need a wallet on Solana to continue"),p.createElement("div",{className:"wallet-adapter-modal-middle"},p.createElement(hi,null)),h.length?p.createElement(p.Fragment,null,p.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:_,tabIndex:0},p.createElement("span",null,o?"Hide ":"Already have a wallet? View ","options"),p.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${o?"wallet-adapter-modal-list-more-icon-rotate":""}`},p.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))),p.createElement(Zt,{expanded:o,id:"wallet-adapter-modal-collapse"},p.createElement("ul",{className:"wallet-adapter-modal-list"},h.map(f=>p.createElement(ht,{key:f.adapter.name,handleClick:E=>w(E,f.adapter.name),tabIndex:o?0:-1,wallet:f}))))):null))),p.createElement("div",{className:"wallet-adapter-modal-overlay",onMouseDown:A})),l)},wi=({children:n,...t})=>{const[e,r]=M.useState(!1);return p.createElement(Bn.Provider,{value:{visible:e,setVisible:r}},n,e&&p.createElement(gi,{...t}))},mi="Phantom";class yi extends rn{constructor(t={}){super(),this.name=mi,this.url="https://phantom.app",this.icon="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgZmlsbD0ibm9uZSI+CjxyZWN0IHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiByeD0iMjYiIGZpbGw9IiNBQjlGRjIiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00Ni41MjY3IDY5LjkyMjlDNDIuMDA1NCA3Ni44NTA5IDM0LjQyOTIgODUuNjE4MiAyNC4zNDggODUuNjE4MkMxOS41ODI0IDg1LjYxODIgMTUgODMuNjU2MyAxNSA3NS4xMzQyQzE1IDUzLjQzMDUgNDQuNjMyNiAxOS44MzI3IDcyLjEyNjggMTkuODMyN0M4Ny43NjggMTkuODMyNyA5NCAzMC42ODQ2IDk0IDQzLjAwNzlDOTQgNTguODI1OCA4My43MzU1IDc2LjkxMjIgNzMuNTMyMSA3Ni45MTIyQzcwLjI5MzkgNzYuOTEyMiA2OC43MDUzIDc1LjEzNDIgNjguNzA1MyA3Mi4zMTRDNjguNzA1MyA3MS41NzgzIDY4LjgyNzUgNzAuNzgxMiA2OS4wNzE5IDY5LjkyMjlDNjUuNTg5MyA3NS44Njk5IDU4Ljg2ODUgODEuMzg3OCA1Mi41NzU0IDgxLjM4NzhDNDcuOTkzIDgxLjM4NzggNDUuNjcxMyA3OC41MDYzIDQ1LjY3MTMgNzQuNDU5OEM0NS42NzEzIDcyLjk4ODQgNDUuOTc2OCA3MS40NTU2IDQ2LjUyNjcgNjkuOTIyOVpNODMuNjc2MSA0Mi41Nzk0QzgzLjY3NjEgNDYuMTcwNCA4MS41NTc1IDQ3Ljk2NTggNzkuMTg3NSA0Ny45NjU4Qzc2Ljc4MTYgNDcuOTY1OCA3NC42OTg5IDQ2LjE3MDQgNzQuNjk4OSA0Mi41Nzk0Qzc0LjY5ODkgMzguOTg4NSA3Ni43ODE2IDM3LjE5MzEgNzkuMTg3NSAzNy4xOTMxQzgxLjU1NzUgMzcuMTkzMSA4My42NzYxIDM4Ljk4ODUgODMuNjc2MSA0Mi41Nzk0Wk03MC4yMTAzIDQyLjU3OTVDNzAuMjEwMyA0Ni4xNzA0IDY4LjA5MTYgNDcuOTY1OCA2NS43MjE2IDQ3Ljk2NThDNjMuMzE1NyA0Ny45NjU4IDYxLjIzMyA0Ni4xNzA0IDYxLjIzMyA0Mi41Nzk1QzYxLjIzMyAzOC45ODg1IDYzLjMxNTcgMzcuMTkzMSA2NS43MjE2IDM3LjE5MzFDNjguMDkxNiAzNy4xOTMxIDcwLjIxMDMgMzguOTg4NSA3MC4yMTAzIDQyLjU3OTVaIiBmaWxsPSIjRkZGREY4Ii8+Cjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?T.Unsupported:T.NotDetected,this._disconnected=()=>{const e=this._wallet;e&&(e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null,this.emit("error",new He),this.emit("disconnect"))},this._accountChanged=e=>{const r=this._publicKey;if(r){try{e=new xe(e.toBytes())}catch(s){this.emit("error",new Be(s==null?void 0:s.message,s));return}r.equals(e)||(this._publicKey=e,this.emit("connect",e))}},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==T.Unsupported&&(qn()?(this._readyState=T.Loadable,this.emit("readyStateChange",this._readyState)):Zn(()=>{var e,r,s;return(r=(e=window.phantom)==null?void 0:e.solana)!=null&&r.isPhantom||(s=window.solana)!=null&&s.isPhantom?(this._readyState=T.Installed,this.emit("readyStateChange",this._readyState),!0):!1}))}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async autoConnect(){this.readyState===T.Installed&&await this.connect()}async connect(){var t;try{if(this.connected||this.connecting)return;if(this.readyState===T.Loadable){const s=encodeURIComponent(window.location.href),i=encodeURIComponent(window.location.origin);window.location.href=`https://phantom.app/ul/browse/${s}?ref=${i}`;return}if(this.readyState!==T.Installed)throw new ie;this._connecting=!0;const e=((t=window.phantom)==null?void 0:t.solana)||window.solana;if(!e.isConnected)try{await e.connect()}catch(s){throw new ce(s==null?void 0:s.message,s)}if(!e.publicKey)throw new le;let r;try{r=new xe(e.publicKey.toBytes())}catch(s){throw new Be(s==null?void 0:s.message,s)}e.on("disconnect",this._disconnected),e.on("accountChanged",this._accountChanged),this._wallet=e,this._publicKey=r,this.emit("connect",r)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const t=this._wallet;if(t){t.off("disconnect",this._disconnected),t.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await t.disconnect()}catch(e){this.emit("error",new St(e==null?void 0:e.message,e))}}this.emit("disconnect")}async sendTransaction(t,e,r={}){try{const s=this._wallet;if(!s)throw new K;try{const{signers:i,...o}=r;re(t)?i!=null&&i.length&&t.sign(i):(t=await this.prepareTransaction(t,e,o),i!=null&&i.length&&t.partialSign(...i)),o.preflightCommitment=o.preflightCommitment||e.commitment;const{signature:a}=await s.signAndSendTransaction(t,o);return a}catch(i){throw i instanceof x?i:new ne(i==null?void 0:i.message,i)}}catch(s){throw this.emit("error",s),s}}async signTransaction(t){try{const e=this._wallet;if(!e)throw new K;try{return await e.signTransaction(t)||t}catch(r){throw new $(r==null?void 0:r.message,r)}}catch(e){throw this.emit("error",e),e}}async signAllTransactions(t){try{const e=this._wallet;if(!e)throw new K;try{return await e.signAllTransactions(t)||t}catch(r){throw new $(r==null?void 0:r.message,r)}}catch(e){throw this.emit("error",e),e}}async signMessage(t){try{const e=this._wallet;if(!e)throw new K;try{const{signature:r}=await e.signMessage(t);return r}catch(r){throw new Ve(r==null?void 0:r.message,r)}}catch(e){throw this.emit("error",e),e}}}const pi="WalletConnect";class Ei extends nn{constructor(t){super(),this.name=pi,this.url="https://walletconnect.org",this.icon="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjE4NSIgdmlld0JveD0iMCAwIDMwMCAxODUiIHdpZHRoPSIzMDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0ibTYxLjQzODU0MjkgMzYuMjU2MjYxMmM0OC45MTEyMjQxLTQ3Ljg4ODE2NjMgMTI4LjIxMTk4NzEtNDcuODg4MTY2MyAxNzcuMTIzMjA5MSAwbDUuODg2NTQ1IDUuNzYzNDE3NGMyLjQ0NTU2MSAyLjM5NDQwODEgMi40NDU1NjEgNi4yNzY1MTEyIDAgOC42NzA5MjA0bC0yMC4xMzY2OTUgMTkuNzE1NTAzYy0xLjIyMjc4MSAxLjE5NzIwNTEtMy4yMDUzIDEuMTk3MjA1MS00LjQyODA4MSAwbC04LjEwMDU4NC03LjkzMTE0NzljLTM0LjEyMTY5Mi0zMy40MDc5ODE3LTg5LjQ0Mzg4Ni0zMy40MDc5ODE3LTEyMy41NjU1Nzg4IDBsLTguNjc1MDU2MiA4LjQ5MzYwNTFjLTEuMjIyNzgxNiAxLjE5NzIwNDEtMy4yMDUzMDEgMS4xOTcyMDQxLTQuNDI4MDgwNiAwbC0yMC4xMzY2OTQ5LTE5LjcxNTUwMzFjLTIuNDQ1NTYxMi0yLjM5NDQwOTItMi40NDU1NjEyLTYuMjc2NTEyMiAwLTguNjcwOTIwNHptMjE4Ljc2Nzc5NjEgNDAuNzczNzQ0OSAxNy45MjE2OTcgMTcuNTQ2ODk3YzIuNDQ1NTQ5IDIuMzk0Mzk2OSAyLjQ0NTU2MyA2LjI3NjQ3NjkuMDAwMDMxIDguNjcwODg5OWwtODAuODEwMTcxIDc5LjEyMTEzNGMtMi40NDU1NDQgMi4zOTQ0MjYtNi40MTA1ODIgMi4zOTQ0NTMtOC44NTYxNi4wMDAwNjItLjAwMDAxLS4wMDAwMS0uMDAwMDIyLS4wMDAwMjItLjAwMDAzMi0uMDAwMDMybC01Ny4zNTQxNDMtNTYuMTU0NTcyYy0uNjExMzktLjU5ODYwMi0xLjYwMjY1LS41OTg2MDItMi4yMTQwNCAwLS4wMDAwMDQuMDAwMDA0LS4wMDAwMDcuMDAwMDA4LS4wMDAwMTEuMDAwMDExbC01Ny4zNTI5MjEyIDU2LjE1NDUzMWMtMi40NDU1MzY4IDIuMzk0NDMyLTYuNDEwNTc1NSAyLjM5NDQ3Mi04Ljg1NjE2MTIuMDAwMDg3LS4wMDAwMTQzLS4wMDAwMTQtLjAwMDAyOTYtLjAwMDAyOC0uMDAwMDQ0OS0uMDAwMDQ0bC04MC44MTI0MTk0My03OS4xMjIxODVjLTIuNDQ1NTYwMjEtMi4zOTQ0MDgtMi40NDU1NjAyMS02LjI3NjUxMTUgMC04LjY3MDkxOTdsMTcuOTIxNzI5NjMtMTcuNTQ2ODY3M2MyLjQ0NTU2MDItMi4zOTQ0MDgyIDYuNDEwNTk4OS0yLjM5NDQwODIgOC44NTYxNjAyIDBsNTcuMzU0OTc3NSA1Ni4xNTUzNTdjLjYxMTM5MDguNTk4NjAyIDEuNjAyNjQ5LjU5ODYwMiAyLjIxNDAzOTggMCAuMDAwMDA5Mi0uMDAwMDA5LjAwMDAxNzQtLjAwMDAxNy4wMDAwMjY1LS4wMDAwMjRsNTcuMzUyMTAzMS01Ni4xNTUzMzNjMi40NDU1MDUtMi4zOTQ0NjMzIDYuNDEwNTQ0LTIuMzk0NTUzMSA4Ljg1NjE2MS0uMDAwMi4wMDAwMzQuMDAwMDMzNi4wMDAwNjguMDAwMDY3My4wMDAxMDEuMDAwMTAxbDU3LjM1NDkwMiA1Ni4xNTU0MzJjLjYxMTM5LjU5ODYwMSAxLjYwMjY1LjU5ODYwMSAyLjIxNDA0IDBsNTcuMzUzOTc1LTU2LjE1NDMyNDljMi40NDU1NjEtMi4zOTQ0MDkyIDYuNDEwNTk5LTIuMzk0NDA5MiA4Ljg1NjE2IDB6IiBmaWxsPSIjM2I5OWZjIi8+PC9zdmc+",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"?T.Unsupported:T.Loadable,this._disconnected=()=>{const e=this._wallet;e&&(e.client.off("session_delete",this._disconnected),this._wallet=null,this._publicKey=null,this.emit("error",new He),this.emit("disconnect"))},this._publicKey=null,this._connecting=!1,this._wallet=null,this._config=t}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==T.Loadable)throw new ie;this._connecting=!0;let t,e;try{({WalletConnectWallet:t,WalletConnectChainID:e}=await Wn(()=>import("./index-BvClZFHg.js"),__vite__mapDeps([0,1,2,3,4])))}catch(i){throw new $n(i==null?void 0:i.message,i)}let r,s;try{r=new t({network:this._config.network===he.Mainnet?e.Mainnet:e.Devnet,options:this._config.options}),{publicKey:s}=await r.connect()}catch(i){throw i.constructor.name==="QRCodeModalError"?new Jn:new ce(i==null?void 0:i.message,i)}r.client.on("session_delete",this._disconnected),this._wallet=r,this._publicKey=s,this.emit("connect",s)}catch(t){throw this.emit("error",t),t}finally{this._connecting=!1}}async disconnect(){const t=this._wallet;if(t){t.client.off("session_delete",this._disconnected),this._wallet=null,this._publicKey=null;try{await t.disconnect()}catch(e){this.emit("error",new St(e==null?void 0:e.message,e))}}this.emit("disconnect")}async signTransaction(t){try{const e=this._wallet;if(!e)throw new K;try{return await e.signTransaction(t)}catch(r){throw new $(r==null?void 0:r.message,r)}}catch(e){throw this.emit("error",e),e}}async signMessage(t){try{const e=this._wallet;if(!e)throw new K;try{return await e.signMessage(t)}catch(r){throw new Ve(r==null?void 0:r.message,r)}}catch(e){throw this.emit("error",e),e}}}const Dn=M.createContext(null),Mi=()=>M.useContext(Dn),_i=typeof window<"u"&&window.localStorage.getItem("chain-namespace")===Kn.solana,Ti=({children:n})=>{const t=window.localStorage.getItem("networkId")??"mainnet",[e,r]=M.useState(t==="testnet"?he.Devnet:he.Mainnet),s=M.useMemo(()=>e===he.Devnet?Fn(e):"https://mainnet.helius-rpc.com/?api-key=4cdab4eb-eefe-4790-a0d6-45f66f2ddba5",[e]),i=M.useMemo(()=>[new yi,new Ei({network:e,options:{projectId:"5f4e967f02cf92c8db957c56e877e149",metadata:{name:"Orderly DEX",description:"Example DEX implementation using Orderly's React Hooks SDK",icons:["https://raw.githubusercontent.com/OrderlyNetwork/broker-registration/refs/heads/master/public/icon.svg"],url:"https://orderlynetwork.github.io/example-dex"}}})],[e]);return ge.jsx(Dn.Provider,{value:{solanaNetwork:e,setSolanaNetwork:r},children:ge.jsx(rr,{endpoint:s,children:ge.jsx(ui,{wallets:i,autoConnect:_i,children:ge.jsx(wi,{children:n})})})})};function Ai(n){var e,r;const t=(e=bi.find(({id:s})=>Number(s)===Number(n)))==null?void 0:e.network;return t!=null?t==="testnet":((r=Ni.find(({id:s})=>Number(s)===Number(n)))==null?void 0:r.network)==="testnet"}const bi=[{network:"mainnet",icon:"./assets/ethereum.svg",id:"0x1",token:"ETH",label:"Ethereum",rpcUrl:"https://arbitrum-one.publicnode.com"},{network:"mainnet",icon:"./assets/arbitrum.svg",id:"0xa4b1",token:"ETH",label:"Arbitrum One",rpcUrl:"https://ethereum-rpc.publicnode.com"},{network:"mainnet",icon:"./assets/optimism.svg",id:"0xa",token:"ETH",label:"OP Mainnet",rpcUrl:"https://mainnet.optimism.io"},{network:"mainnet",icon:"./assets/base.svg",id:"0x2105",token:"ETH",label:"Base",rpcUrl:"https://base-rpc.publicnode.com"},{network:"mainnet",icon:"./assets/sei.svg",id:"0x531",token:"SEI",label:"Sei",rpcUrl:"https://evm-rpc.sei-apis.com"},{network:"testnet",icon:"./assets/sepolia.svg",id:"0xaa36a7",token:"ETH",label:"Sepolia",rpcUrl:"https://ethereum-sepolia-rpc.publicnode.com"},{network:"testnet",icon:"./assets/arbitrum_sepolia.svg",id:"0x66eee",token:"ETH",label:"Arbitrum Sepolia",rpcUrl:"https://arbitrum-sepolia.publicnode.com"},{network:"testnet",icon:"./assets/optimism_sepolia.svg",id:"0xaa37dc",token:"ETH",label:"OP Sepolia",rpcUrl:"https://optimism-sepolia.publicnode.com"},{network:"testnet",icon:"./assets/base_sepolia.svg",id:"0x14a34",token:"ETH",label:"Base Sepolia",rpcUrl:"https://base-sepolia-rpc.publicnode.com"},{network:"testnet",icon:"./assets/sei_testnet.svg",id:"0xae3f3",token:"SEI",label:"Sei Devnet",rpcUrl:"https://evm-rpc-arctic-1.sei-apis.com"}],Ni=[{network:he.Mainnet,icon:"./assets/solana.svg",id:"900900900",token:"SOL",label:"Solana Mainnet Beta"},{network:he.Devnet,icon:"./assets/solana_devnet.svg",id:"901901901",token:"SOL",label:"Solana Devnet"}];function vi(){const[n,t]=M.useState(),[{connectedChain:e}]=tr(),{solanaNetwork:r}=Mi(),{connected:s}=qt();let i;e!=null?i=Ai(e.id):s&&r===he.Devnet?i=!0:!s&&typeof window<"u"?i=window.localStorage.getItem("networkId")==="testnet":i=!1;const o=i&&n==="mainnet"||!i&&n==="testnet";return M.useEffect(()=>{typeof window<"u"&&t(window.localStorage.getItem("networkId")??"mainnet")},[]),M.useEffect(()=>{t(i?"testnet":"mainnet")},[e]),[i,o]}const Ii=({onClick:n,className:t,type:e,disabled:r,children:s})=>{const[i,o]=M.useState(!1);return ge.jsxs(Yn,{className:`relative ${t??""}`,type:e,disabled:r||i,onClick:async a=>{o(!0);try{await n(a)}finally{o(!1)}},children:[i&&ge.jsx(Qn,{overlay:!0})," ",s]})};export{Ii as P,Ti as S,tr as a,Mi as b,Ni as c,nr as d,ds as e,bi as s,vi as u};
