import{r as l,j as e}from"./index-6DuipDjQ.js";import{b9 as W,ba as g,bb as w,bc as x,bd as C,be as y,bf as j,bg as v,b0 as S,b1 as k,b2 as h,b3 as N,b4 as z}from"./Spinner-CAtRjw2L.js";const M=["horizontal","vertical"],E=["1","2","3","4"],B={orientation:{type:"enum",className:"rt-r-orientation",values:M,default:"horizontal",responsive:!0},size:{type:"enum",className:"rt-r-size",values:E,default:"1",responsive:!0},color:{...W.color,default:"gray"},decorative:{type:"boolean",default:!0}},O=l.forwardRef((a,n)=>{const{className:r,color:u,decorative:c,...o}=g(a,B,x);return l.createElement("span",{"data-accent-color":u,role:c?void 0:"separator",...o,ref:n,className:w("rt-Separator",r)})});O.displayName="Separator";const R=()=>{const a=C(),{connectWallet:n,disconnectWallet:r}=a,c=y("wallets")[0]||null,[o,t]=l.useState(!1),m=l.useCallback(async d=>{t(!0);const f=await n(d);return t(!1),f},[]),i=l.useCallback(async({label:d})=>{t(!0);const f=await r({label:d});return t(!1),f},[]),b=a.state.actions.updateBalances,s=a.state.actions.setWalletModules,p=a.state.actions.setPrimaryWallet;return[{wallet:c,connecting:o},m,i,b,s,p]};function V({onSelectWallet:a}){const{connect:n,connected:r,connecting:u,disconnect:c,disconnecting:o,publicKey:t,select:m,wallet:i,wallets:b}=j();let s;u?s="connecting":r?s="connected":o?s="disconnecting":i?s="has-wallet":s="no-wallet";const p=l.useCallback(()=>{n().catch(()=>{})},[n]),d=l.useCallback(()=>{c().catch(()=>{})},[c]),f=l.useCallback(()=>{a({onSelectWallet:m,wallets:b})},[a,m,b]);return{buttonState:s,onConnect:s==="has-wallet"?p:void 0,onDisconnect:s!=="disconnecting"&&s!=="no-wallet"?d:void 0,onSelectWallet:f,publicKey:t??void 0,walletIcon:i==null?void 0:i.adapter.icon,walletName:i==null?void 0:i.adapter.name}}const K=()=>{const[a,n]=l.useState(!1),[{wallet:r},u]=R(),{setVisible:c}=v(),{buttonState:o,onConnect:t}=V({onSelectWallet(){c(!0)}});return l.useEffect(()=>{o==="has-wallet"&&t&&t()},[o,t]),e.jsxs(S,{open:a,onOpenChange:n,children:[e.jsx(k,{children:e.jsx(h,{children:"Connect wallet"})}),e.jsxs(N,{size:"1",maxWidth:"400px",children:[e.jsx(z,{children:"Connect Wallet"}),e.jsxs("div",{className:"flex flex-col gap-4 mt-8",children:[e.jsxs(h,{size:"4",onClick:async()=>{r||await u()},children:[e.jsx("img",{src:"./assets/ethereum.svg",alt:"EVM Wallets",style:{marginRight:"0.3rem",height:"1.8rem"}})," ","EVM Wallets"]}),e.jsxs(h,{size:"4",onClick:async()=>{switch(n(!1),o){case"no-wallet":c(!0);break;case"has-wallet":t&&t();break}},children:[e.jsx("img",{src:"./assets/solana.svg",alt:"Solana Wallets",style:{marginRight:"0.3rem",height:"1.8rem"}})," ","Solana Wallets"]})]}),e.jsx("hr",{className:"my-4"}),e.jsx("div",{className:"w-full flex justify-end",children:e.jsx(h,{className:"self-end",onClick:()=>{n(!1)},variant:"outline",children:"Close"})})]})]})};export{K as C,O as o,R as u};
